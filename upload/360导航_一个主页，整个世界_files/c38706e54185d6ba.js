!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CubeSdk=e():t.CubeSdk=e()}(window,(function(){return n={},t.m=e=[function(t,e,n){(function(e,i){n(34)();var r,o,s=t.exports,a=n(35),c={}.toString,u="undefined"!=typeof window?window:e;function l(t,e,n,i){var r=t.length,o=e-50;o<0&&(o=0);var s=e+20;r<s&&(s=r);var a,c="["+(n+1)+"] "+(0<o?"..":""),u=s<r?"..":"",l=c+f(t.slice(o,s))+u;return i&&(l+="\n"+(a=f(t.slice(o,e)).length+c.length,new Array(a+1).join(" ")+"^")),l}function f(t){return t.replace(/^\t+/,(function(t){return t.split("\t").join("  ")}))}n(2),s.noop=function(){},s.uid=(r=0,function(){return r++}),s.extend=function(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(void 0!==t[i]&&!0!==n||(t[i]=e[i]));return t},s.keys=Object.keys?Object.keys:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},s.values=Object.values?Object.values:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},s.some=function(t,e){for(var n=0,i=t.length;n<i;n++)if(e(t[n]))return!0},s.varName="d",s.setName="p_",s.ctxName="c",s.extName="e",s.rWord=/^[\$\w]+$/,s.rSimpleAccessor=/^[\$\w]+(\.[\$\w]+)*$/,s.nextTick="function"==typeof i?i.bind(u):function(t){setTimeout(t,0)},s.prefix="'use strict';var "+s.varName+"="+s.ctxName+".data;"+s.extName+"="+s.extName+"||'';",s.slice=function(t,e,n){for(var i=[],r=e||0,o=n||t.length;r<o;r++)i.push(t[r]);return i},s.typeOf=function(t){return null==t?String(t):c.call(t).slice(8,-1).toLowerCase()},s.makePredicate=function(t){"string"==typeof t&&(t=t.split(" "));var e="",n=[];t:for(var i=0;i<t.length;++i){for(var r=0;r<n.length;++r)if(n[r][0].length===t[i].length){n[r].push(t[i]);continue t}n.push([t[i]])}function o(t){if(1===t.length)return e+="return str === '"+t[0]+"';";e+="switch(str){";for(var n=0;n<t.length;++n)e+="case '"+t[n]+"':";e+="return true}return false;"}if(3<n.length){for(n.sort((function(t,e){return e.length-t.length})),e+="switch(str.length){",i=0;i<n.length;++i){var s=n[i];e+="case "+s[0].length+":",o(s)}e+="}"}else o(t);return new Function("str",e)},s.trackErrorPos=(o=/\r\n|[\n\r\u2028\u2029]/g,function(t,e){e>t.length-1&&(e=t.length-1),o.lastIndex=0;var n=function(t,e){for(var n=0,i=0,r=t.length;i<r;i++){var o=(t[i]||"").length;if(e<n+o)return{num:i,line:t[i],start:e-n,prev:t[i-1],next:t[i+1]};n=n+o+1}}(t.split(o),e),i=n.start,r=n.num;return(n.prev?l(n.prev,i,r-1)+"\n":"")+l(n.line,i,r,!0)+"\n"+(n.next?l(n.next,i,r+1)+"\n":"")});var d=/\((\?\!|\?\:|\?\=)/g;s.findSubCapture=function(t){for(var e=0,n=0,i=t.length,r=(r=t.match(d))?r.length:0;i--;){var o=t.charAt(i);0!==i&&"\\"===t.charAt(i-1)||("("===o&&e++,")"===o&&n++)}if(e!==n)throw"RegExp: "+t+"'s bracket is not marched";return e-r},s.escapeRegExp=function(t){return t.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,(function(t){return"\\"+t}))};var h=new RegExp("&(?:(#x[0-9a-fA-F]+)|(#[0-9]+)|("+s.keys(a).join("|")+"));","gi");function p(){}s.convertEntity=function(t){return(""+t).replace(h,(function(t,e,n,i){var r=n?parseInt(n.slice(1),10):e?parseInt(e.slice(2),16):a[i];return String.fromCharCode(r)}))},s.createObject=Object.create?function(t){return Object.create(t||null)}:function(t){if(!t)return{};p.prototype=t;var e=new p;return p.prototype=null,e},s.createProto=function(t,e){function n(){this.constructor=t}return n.prototype=e,t.prototype=new n},s.removeOne=function(t,e){for(var n=t.length;n--;)if(e(t[n]))return void t.splice(n,1)},s.clone=function(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(var e=[],n=0,i=t.length;n<i;n++)e[n]=t[n];return e}for(var n in e={},t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},s.equals=function(t,e){return!("number"!=typeof t||"number"!=typeof e||!isNaN(t)||!isNaN(e))||t===e};var v,m,g,y,b,_,w,x,O,E,A,T,j=/-([a-z])/g;s.camelCase=function(t){return t.replace(j,(function(t,e){return e.toUpperCase()}))},s.throttle=function(t,e){function n(){a=+new Date,s=null,o=t.apply(i,r),i=r=null}e=e||100;var i,r,o,s=null,a=0;return function(){var c=+new Date,u=e-(c-a);return i=this,r=arguments,u<=0||e<u?(clearTimeout(s),s=null,a=c,o=t.apply(i,r),i=r=null):s=s||setTimeout(n,u),o}},s.escape=(v=/&/g,m=/</g,g=/>/g,y=/\'/g,b=/\"/g,_=/[&<>\"\']/,function(t){return _.test(t)?t.replace(v,"&amp;").replace(m,"&lt;").replace(g,"&gt;").replace(y,"&#39;").replace(b,"&quot;"):t}),s.cache=function(t){var e=[],n={};return{set:function(t,i){return e.length>this.max&&(n[e.shift()]=void 0),void 0===n[t]&&e.push(t),n[t]=i},get:function(t){return void 0===t?n:n[t]},max:t=t||1e3,len:function(){return e.length}}},s.handleEvent=function(t,e){var n,i=this;return"expression"===t.type&&(n=t.get),n?function(t){var e=this;i.$update((function(){var r=this.data;r.$event=t,r.$sender=e,!1===n(i)&&t&&t.preventDefault&&t.preventDefault(),r.$event=void 0,r.$sender=void 0}))}:function(){var e=s.slice(arguments);e.unshift(t),i.$update((function(){i.$emit.apply(i,e)}))}},s.once=function(t){var e=0;return function(){0==e++&&t.apply(this,arguments)}},s.fixObjStr=function(t){return 0!==t.trim().indexOf("{")?"{"+t+"}":t},s.map=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n.push(e(t[i],i));return n},s.log=function(t,e){"undefined"!=typeof console&&console[e||"log"](t)},s.normListener=function(t){var e=[],n=s.typeOf(t);if("array"===n)return t;if("object"===n)for(var i in t)t.hasOwnProperty(i)&&e.push({type:i,listener:t[i]});return e},s.isVoidTag=s.makePredicate("area base br col embed hr img input keygen link menuitem meta param source track wbr r-content"),s.isBooleanAttr=s.makePredicate("selected checked disabled readonly required open autofocus controls autoplay compact loop defer multiple"),s.isExpr=function(t){return t&&"expression"===t.type},s.isGroup=function(t){return t.inject||t.$inject},s.blankReg=/^\s*$/,s.getCompileFn=function(t,e,n){return function(i){return i&&n?s.extend(i,n):i=n,e.$compile(t,i)}},s.fixTagAST=function(t,e){if(!t.touched){var n=t.attrs;if(n){var i=n.length;if(i){for(var r=[],o={};i--;){var a=n[i];"type"===a.name&&(a.priority=1e4);var c=e.directive(a.name);c?(a.priority=c.priority||1,a.directive=!0,r.push(a)):"attribute"===a.type&&(o[a.name]=a.value)}r.forEach((function(t){var i=e.directive(t.name).param;i&&i.length&&(t.param={},i.forEach((function(e){e in o&&(t.param[e]=void 0===o[e]||o[e],s.removeOne(n,(function(t){return t.name===e})))})))})),n.sort((function(t,e){var n=t.priority,i=e.priority;return null==n&&(n=9999),null==i&&(i=9999),i-n})),t.touched=!0}}}},s.findItem=function(t,e){if(t&&t.length)for(var n=t.length;n--;)if(e(t[n]))return t[n]},s.getParamObj=function(t,e){var n,i={};if(e)for(var r in e)e.hasOwnProperty(r)&&(n=e[r],i[r]=n&&"expression"===n.type?t.$get(n):n);return i},s.eventReg=/^on-(\w[-\w]*)$/,s.toText=function(t){return null==t?"":""+t},s.escape=(w=/&/g,x=/</g,O=/>/g,E=/\'/g,A=/\"/g,T=/[&<>\"\']/,function(t){var e;return e=t,t=String(void 0===e||null==e?"":e),T.test(t)?t.replace(w,"&amp;").replace(x,"&lt;").replace(O,"&gt;").replace(E,"&#39;").replace(A,"&quot;"):t}),s.simpleDiff=function(t,e){var n=t.length;if(n!==e.length)return!0;for(var i=0;i<n;i++)if(t[i]!==e[i])return!0;return!1}}).call(this,n(6),n(32).setImmediate)},function(t,e,n){function i(t,e){return void 0!==t[e]?t[e]:t[e]=c.uid()}function r(t,e){return"change"===e&&s.msie<9&&t&&t.tagName&&"input"===t.tagName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)?"click":e}function o(t){if((t=t||window.event)._fixed)return t;this.event=t,this.target=t.target||t.srcElement;var e=this.type=t.type,n=this.button=t.button;if(v.test(e)&&(this.pageX=null!=t.pageX?t.pageX:t.clientX+m.scrollLeft,this.pageY=null!=t.pageX?t.pageY:t.clientY+m.scrollTop,"mouseover"===e||"mouseout"===e)){for(var i=t.relatedTarget||t[("mouseover"===e?"from":"to")+"Element"];i&&3===i.nodeType;)i=i.parentNode;this.relatedTarget=i}"DOMMouseScroll"!==e&&"mousewheel"!==e||(this.wheelDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),this.which=t.which||t.keyCode,this.which||void 0===n||(this.which=1&n?1:2&n?3:4&n?2:0),this._fixed=!0}var s,a,c,u,l,f,d,h,p,v,m,g,y,b;"undefined"!=typeof window&&(s=t.exports,a=n(5),c=n(0),u=n(3),l=document.createElement("div"),d=u.NAMESPACE,s.body=document.body,s.doc=document,s.tNode=l,h=l.addEventListener?(f=function(t,e,n){t.addEventListener(e,n,!1)},function(t,e,n){t.removeEventListener(e,n,!1)}):(f=function(t,e,n){t.attachEvent("on"+e,n)},function(t,e,n){t.detachEvent("on"+e,n)}),s.msie=parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1]),isNaN(s.msie)&&(s.msie=parseInt((/trident\/.*; rv:(\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])),s.find=function(t){if(document.querySelector)try{return document.querySelector(t)}catch(t){}if(-1!==t.indexOf("#"))return document.getElementById(t.slice(1))},s.inject=function(t,e,n){if(n=n||"bottom",t){if(Array.isArray(t)){var i=t;t=s.fragment();for(var r=0,o=i.length;r<o;r++)t.appendChild(i[r])}var a;switch(n){case"bottom":e.appendChild(t);break;case"top":e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t);break;case"after":(a=e.nextSibling)?a.parentNode.insertBefore(t,a):e.parentNode.appendChild(t);break;case"before":e.parentNode.insertBefore(t,e)}}},s.id=function(t){return document.getElementById(t)},s.create=function(t,e){if("svg"===e){if(!a.svg)throw Error("the env need svg support");e=d.svg}return e?document.createElementNS(e,t):document.createElement(t)},s.fragment=function(){return document.createDocumentFragment()},p={class:function(t,e){!("className"in t)||t.namespaceURI&&t.namespaceURI!==d.html?t.setAttribute("class",e):t.className=e||""},for:function(t,e){"htmlFor"in t?t.htmlFor=e:t.setAttribute("for",e)},style:function(t,e){t.style?t.style.cssText=e:t.setAttribute("style",e)},value:function(t,e){t.value=null!=e?e:""}},s.attr=function(t,e,n){if(c.isBooleanAttr(e)){if(void 0===n)return t[e]||(t.attributes.getNamedItem(e)||function(){}).specified?e:void 0;n?(t[e]=!0,t.setAttribute(e,e),s.msie&&s.msie<=7&&"checked"===e&&(t.defaultChecked=!0)):(t[e]=!1,t.removeAttribute(e))}else if(void 0!==n)p[e]?p[e](t,n):null===n?t.removeAttribute(e):t.setAttribute(e,n);else if(t.getAttribute){var i=t.getAttribute(e,2);return null===i?void 0:i}},s.on=function(t,e,n){function a(e){var i=new o(e);i.origin=t,n.call(t,i)}var c=e.split(" "),u=i(t,"_nid");return n._events=n._events||{},c.forEach((function(e){e=r(t,e);var i=u+"-"+e;n._events[i]||(n._events[i]=a),f(t,e,n._events[i])})),s},s.off=function(t,e,n){var o,s=e.split(" ");n&&n._events&&(o=i(t,"_nid"),s.forEach((function(e){e=r(t,e);var i=o+"-"+e,s=n._events[i]||n;h(t,e,s)})))},s.text=(b={},s.msie&&s.msie<9?(b[1]="innerText",b[3]="nodeValue"):b[1]=b[3]="textContent",function(t,e){var n=b[t.nodeType];if(null==e)return n?t[n]:"";t[n]=e}),s.html=function(t,e){if(void 0===e)return t.innerHTML;t.innerHTML=e},s.replace=function(t,e){e.parentNode&&e.parentNode.replaceChild(t,e)},s.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)},s.css=function(t,e,n){if("object"==typeof e&&e)for(var i in e)e.hasOwnProperty(i)&&s.css(t,i,e[i]);else{var r;if(void 0===n)return s.msie<=8&&""===(r=t.currentStyle&&t.currentStyle[e])&&(r="auto"),r=r||t.style[e],s.msie<=8&&(r=""===r?void 0:r),r;(e=(""+e).replace(/-\D/g,(function(t){return t.charAt(1).toUpperCase()})))&&(t.style[e]=n)}},s.addClass=function(t,e){var n=t.className||"";-1===(" "+n+" ").indexOf(" "+e+" ")&&(t.className=n?n+" "+e:e)},s.delClass=function(t,e){var n=t.className||"";t.className=(" "+n+" ").replace(" "+e+" "," ").trim()},s.hasClass=function(t,e){return-1!==(" "+(t.className||"")+" ").indexOf(" "+e+" ")},v=/^(?:click|dblclick|contextmenu|DOMMouseScroll|mouse(?:\w+))$/,m=(m=document).compatMode&&"CSS1Compat"!==m.compatMode?m.body:m.documentElement,c.extend(o.prototype,{stop:function(){this.preventDefault().stopPropagation()},preventDefault:function(){return this.event.preventDefault?this.event.preventDefault():this.event.returnValue=!1,this},stopPropagation:function(){return this.event.stopPropagation?this.event.stopPropagation():this.event.cancelBubble=!0,this},stopImmediatePropagation:function(){this.event.stopImmediatePropagation&&this.event.stopImmediatePropagation()}}),s.nextFrame=(g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)},y=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||function(t){clearTimeout(t)},function(t){var e=g(t);return function(){y(e)}}),s.nextReflow=s.msie?function(t){return s.nextFrame((function(){document.body.offsetWidth,t()}))}:s.nextFrame)},function(t,e){t.exports={BEGIN:"{",END:"}",PRECOMPILE:!1}},function(t,e){t.exports={COMPONENT_TYPE:1,ELEMENT_TYPE:2,ERROR:{UNMATCHED_AST:101},MSG:{101:"Unmatched ast and mountNode, report issue at https://github.com/regularjs/regular/issues"},NAMESPACE:{html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"},OPTIONS:{STABLE_INIT:{stable:!0,init:!0},FORCE_INIT:{force:!0,init:!0},STABLE:{stable:!0},INIT:{init:!0},SYNC:{sync:!0},FORCE:{force:!0}},DIFF:{REMOVE_ALL:1,ADD_ALL:0}}},function(t,e,n){var i,r,o,s,a=n(5),c=n(21),u=n(12),l=n(2),f=n(0),d=n(37),h=n(14),p={};function v(){}function m(t,e){var n=a.isRunning;a.isRunning=!0;var r,o,s,c,u,l=this;e=e||{};var d=(t=t||{}).template;if(a.browser){if((r=E(d))&&(d=r),d&&d.nodeType&&(t.template=d.innerHTML),"string"==typeof(u=t.mountNode)&&!(u=i.find(u)))throw Error("mountNode "+u+" is not found");u?(s=O(u.firstChild,u),delete t.mountNode):s=e.cursor}o=h.initDefinition(l,t),l.$parent&&l.$parent._append(l),l._children=[],l.$refs={},l.$root=l.$root||l;var m,g,y,b=e.extra,_=b&&b.$$modify;(c=l._body)&&(l._body=null,"function"==typeof(g=l.modifyBodyComponent)?(g=g.bind(this),(m=f.createObject(b)).$$modify=function(t){return g(t,_||v)}):m=b,c.ast&&c.ast.length&&(l.$body=f.getCompileFn(c.ast,c.ctx,{outer:l,namespace:e.namespace,extra:m,record:!0}))),o&&((y={namespace:e.namespace,cursor:s}).extra={$$modify:b&&b.$$modify},l.group=l.$compile(o,y),p.node(l)),_&&_(this),l.$parent||l.$update(),l.$ready=!0,l.$emit("$init"),l.init&&l.init(l.data),l.$emit("$afterInit"),a.isRunning=n,this.devtools&&this.devtools.emit("init",this)}a.browser&&(i=n(1),r=n(38),o=n(24),s=i.doc,p=n(16));var g,y=n(39),b=n(40),_=n(15),w=n(41),x=n(3).ERROR,O=n(17);h=n(14);function E(t){var e;if("string"==typeof t&&t.length<16&&(e=i.find(t)))return f.log("pass selector as template has be deprecated, pass node or template string instead","warn"),e}"undefined"==typeof window||(g=window.__REGULAR_DEVTOOLS_GLOBAL_HOOK__)&&(m.prototype.devtools=g),r&&(r.Regular=m),f.extend(m,{_directives:{__regexp__:[]},_plugins:{},_protoInheritCache:["directive","use"],__after__:function(t,e){var n,r,o;this.__after__=t.__after__,e.name&&m.component(e.name,this),(n=e.template)&&(a.browser&&((r=E(n))&&(n=r),n&&n.nodeType&&((o=i.attr(n,"name"))&&m.component(o,this),n=n.innerHTML)),"string"==typeof n&&(this.prototype.template=l.PRECOMPILE?new u(n).parse():n)),e.computed&&(this.prototype.computed=h.handleComputed(e.computed)),m._inheritConfig(this,t)},directive:function(t,e){if(t){var n=typeof t;if("object"==n&&!e){for(var i in t)t.hasOwnProperty(i)&&this.directive(i,t[i]);return this}var r,o=this._directives;if(null!=e)return"function"==typeof e&&(e={link:e}),"string"==n?o[t]=e:(e.regexp=t,o.__regexp__.push(e)),"function"!=typeof e.link&&(e.link=v),this;if("string"==n){if(r=o[t])return r;for(var s=o.__regexp__,a=0,c=s.length;a<c;a++)if((r=s[a]).regexp.test(t))return r}}},plugin:function(t,e){var n=this._plugins;return null==e?n[t]:(n[t]=e,this)},use:function(t){return"string"==typeof t&&(t=m.plugin(t)),"function"!=typeof t||t(this,m),this},config:function(t,e){var n=!1;if("object"==typeof t)for(var i in t)"END"!==i&&"BEGIN"!==i||(n=!0),l[i]=t[i];n&&c.setup()},expression:_.expression,Parser:u,Lexer:c,_addProtoInheritCache:function(t,e){if(Array.isArray(t))return t.forEach(m._addProtoInheritCache);var n="_"+t+"s";m._protoInheritCache.push(t),m[n]={},m[t]||(m[t]=function(i,r){var o=this[n];if("object"!=typeof i)return null==r?o[i]:(o[i]=e?e(r):r,this);for(var s in i)i.hasOwnProperty(s)&&this[t](s,i[s]);return this})},_inheritConfig:function(t,e){var n=m._protoInheritCache;return f.slice(n).forEach((function(n){t[n]=e[n];var i="_"+n+"s";e[i]&&(t[i]=f.createObject(e[i]))})),t}}),d(m),m._addProtoInheritCache("component"),m._addProtoInheritCache("filter",(function(t){return"function"==typeof t?{get:t}:t})),y.mixTo(m),b.mixTo(m),m.implement({init:function(){},config:function(){},destroy:function(){this.$emit("$destroy"),this._watchers=null,this._watchersForStable=null,this.group&&this.group.destroy(!0),this.group=null,this.parentNode=null,this._children=null,this.$root=null,this._handles=null,this.$refs=null;var t,e=this.$parent;e&&e._children&&(t=e._children.indexOf(this),e._children.splice(t,1)),this.$parent=null,this.devtools&&this.devtools.emit("destroy",this),this._handles=null,this.$phase="destroyed"},$compile:function(t,e){e=e||{},"string"==typeof t&&(t=new u(t).parse());var n,i=this.__ext__,r=e.record;e.extra&&(this.__ext__=e.extra),r&&this._record();var o,s=this._walk(t,e);return r&&(n=this._release(),o=this,n.length&&(s.ondestroy=function(){o.$unwatch(n)})),e.extra&&(this.__ext__=i),s},$bind:function(t,e,n){var i=f.typeOf(e);if("expression"===e.type||"string"===i)this._bind(t,e,n);else if("array"===i)for(var r=0,o=e.length;r<o;r++)this._bind(t,e[r]);else if("object"===i)for(var r in e)e.hasOwnProperty(r)&&this._bind(t,r,e[r]);return t.$update(),this},$unbind:function(){},$inject:p.inject,$mute:function(t){var e=!1==(t=!!t)&&this._mute;return this._mute=!!t,e&&this.$update(),this},_bind:function(t,e,n){var i,r,o=this;if(!(t&&t instanceof m))throw"$bind() should pass Regular component as first argument";if(!e)throw"$bind() should  pass as least one expression to bind";n=n||e,e=_.expression(e),(n=_.expression(n)).set&&(i=this.$watch(e,(function(e){t.$update(n,e)})),t.$on("$destroy",(function(){o.$unwatch(i)}))),e.set&&(r=t.$watch(n,(function(t){o.$update(e,t)})),this.$on("$destroy",t.$unwatch.bind(t,r))),n.set(t,e.get(this))},_walk:function(t,e){if(Array.isArray(t)){for(var n=[],i=0,a=t.length;i<a;i++){var c=this._walk(t[i],e);c&&c.code===x.UNMATCHED_AST?(t.splice(i,1),i--,a--):n.push(c)}return new o(n)}return"string"==typeof t?s.createTextNode(t):r[t.type||"default"].call(this,t,e)},_append:function(t){this._children.push(t),t.$parent=this},_handleEvent:function(t,e,n,r){var o,s=this.constructor,a="function"!=typeof n?f.handleEvent.call(this,n,e):n,c=s.event(e);return c?o=c.call(this,t,a,r):i.on(t,e,a),c?o:function(){i.off(t,e,a)}},_touchExpr:function(t,e){e=this.__ext__;var n,i,r,o,s={};return"expression"!==t.type||t.touched?t:((n=t.get)||(n=t.get=new Function(f.ctxName,f.extName,f.prefix+"return ("+t.body+")"),t.body=null),s.get=e?function(t,i){return n(t,i||e)}:n,t.setbody&&!t.set&&(i=t.setbody,r=t.filters,o=this,r&&f.some(r,(function(t){return!o._f_(t).set}))||(t.set=function(e,n,r){return t.set=new Function(f.ctxName,f.setName,f.extName,f.prefix+i),t.set(e,n,r)}),t.filters=t.setbody=null),t.set&&(s.set=e?function(n,i){return t.set(n,i,e)}:t.set),s.type="expression",s.touched=!0,s.once=t.once||t.constant,s)},_f_:function(t){var e=this.constructor.filter(t);if(!e)throw Error("filter "+t+" is undefined");return e},_sg_:function(t,e,n,i){if(void 0!==t){if(i&&"object"==typeof i&&void 0!==i[t])return i[t];if(null!==e){if(e&&void 0!==e[t])return e[t];if(null!==e){var r=this.computed[t];if(r){if("expression"!==r.type||r.get||this._touchExpr(r),r.get)return r.get(this);f.log("the computed '"+t+"' don't define the get function,  get data."+t+" altnately","warn")}}if(void 0!==n)return n[t]}}},_ss_:function(t,e,n,i,r){i=i||"=";var o,s=(r=this.computed)?r[t]:null;if("="!==i)switch(o=s?s.get(this):n[t],i){case"+=":e=o+e;break;case"-=":e=o-e;break;case"*=":e*=o;break;case"/=":e=o/e;break;case"%=":e=o%e}return s&&s.set?s.set(this,e):n[t]=e}}),m.prototype.inject=function(){return f.log("use $inject instead of inject","warn"),this.$inject.apply(this,arguments)},m.filter(w),t.exports=m},function(t,e,n){(function(t){var i=n(0);e.svg="undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),e.browser="undefined"!=typeof document&&document.nodeType,e.exprCache=i.cache(1e3),e.node=void 0!==t&&""+t=="[object process]",e.isRunning=!1}).call(this,n(20))},function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i,r,o,s,a=n(0),c=n(1),u={},l=n(5);function f(t,e){c.remove(t),e&&e()}function d(t){var e,n=0,i=0,r=0,a=0,c=0;return window.getComputedStyle&&(i=h((e=window.getComputedStyle(t))[o+"Duration"])||i,r=h(e[o+"Delay"])||r,a=h(e[s+"Duration"])||a,c=h(e[s+"Delay"])||c,n=Math.max(i+r,a+c)),1e3*n*(5/3)}function h(t){var e,n=0;return t?(t.split(",").forEach((function(t){e=parseFloat(t),n<e&&(n=e)})),n):0}"undefined"!=typeof window&&(i="transitionend",r="animationend",o="transition",s="animation","ontransitionend"in window||("onwebkittransitionend"in window?(i+=" webkitTransitionEnd",o="webkitTransition"):("onotransitionend"in c.tNode||"Opera"===navigator.appName)&&(i+=" oTransitionEnd",o="oTransition")),"onanimationend"in window||("onwebkitanimationend"in window?(r+=" webkitAnimationEnd",s="webkitAnimation"):"onoanimationend"in c.tNode&&(r+=" oAnimationEnd",s="oAnimation"))),u.inject=function(t,e,n,i){if(i=i||a.noop,Array.isArray(t)){for(var r=c.fragment(),o=0,s=0,u=t.length;s<u;s++)r.appendChild(t[s]);function l(){++o===u&&i()}for(c.inject(r,e,n),u===o&&i(),s=0;s<u;s++)t[s].onenter?t[s].onenter(l):l()}else{if(!t)return;c.inject(t,e,n),t.onenter?t.onenter(i):i()}},u.remove=function(t,e){if(t){var n=0;if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++)u.remove(t[i],o);else"function"==typeof t.onleave?t.onleave((function(){f(t,e)})):f(t,e)}function o(){++n===r&&e&&e()}},u.startClassAnimate=function(t,e,n,o){var s,u,f,h;return!r&&!i||l.isRunning?n():(h=4!==o?a.once((function(){f&&clearTimeout(f),2===o&&c.delClass(t,s),3!==o&&c.delClass(t,e),c.off(t,r,h),c.off(t,i,h),n()})):a.once((function(){f&&clearTimeout(f),n()})),2===o?(c.addClass(t,e),s=a.map(e.split(/\s+/),(function(t){return t+"-active"})).join(" "),c.nextReflow((function(){c.addClass(t,s),u=d(t),f=setTimeout(h,u)}))):4===o?c.nextReflow((function(){c.delClass(t,e),u=d(t),f=setTimeout(h,u)})):c.nextReflow((function(){c.addClass(t,e),u=d(t),f=setTimeout(h,u)})),c.on(t,r,h),c.on(t,i,h),h)},u.startStyleAnimate=function(t,e,n){var o,s,u;return c.nextReflow((function(){c.css(t,e),o=d(t),u=setTimeout(s,o)})),s=a.once((function(){u&&clearTimeout(u),c.off(t,r,s),c.off(t,i,s),n()})),c.on(t,r,s),c.on(t,i,s),s},t.exports=u},function(t,e,n){var i=n(25);t.exports=function(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}},function(t,e,n){var i=n(26),r=n(27);t.exports=function(t,e,n,o){var s=!n;n=n||{};for(var a=-1,c=e.length;++a<c;){var u=e[a],l=o?o(n[u],t[u],u,n,t):void 0;void 0===l&&(l=t[u]),(s?r:i)(n,u,l)}return n}},function(t,e,n){var i=n(54);function r(t,e,n,r,o){var s=function(t,e,n,r){return function(n){n.delegateTarget=i(n.target,e),n.delegateTarget&&r.call(t,n)}}.apply(this,arguments);return t.addEventListener(n,s,o),{destroy:function(){t.removeEventListener(n,s,o)}}}t.exports=function(t,e,n,i,o){return"function"==typeof t.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return r(t,e,n,i,o)})))}},function(t,e,n){var i=n(55);t.exports=function(t){return i(t,5)}},function(t,e,n){var i=n(0),r=(n(2),n(13)),o=n(21),s=i.varName,a=i.ctxName,c=i.extName,u=i.makePredicate("STRING IDENT NUMBER"),l=i.makePredicate("true false undefined null this Array Date JSON Math NaN RegExp decodeURI decodeURIComponent encodeURI encodeURIComponent parseFloat parseInt Object"),f=i.makePredicate("script style"),d=/\.bind$/;function h(t,e){e=e||{},this.input=t,this.tokens=new o(t,e).lex(),this.pos=0,this.length=this.tokens.length}var p=h.prototype;p.parse=function(){this.pos=0;var t=this.program();return"TAG_CLOSE"===this.ll().type&&this.error("You may got a unclosed Tag"),t},p.ll=function(t){(t=t||1)<0&&(t+=1);var e=this.pos+t-1;return e>this.length-1?this.tokens[this.length-1]:this.tokens[e]},p.la=function(t){return(this.ll(t)||"").type},p.match=function(t,e){var n;if(n=this.eat(t,e))return n;n=this.ll(),this.error("expect ["+t+(null==e?"":":"+e)+']" -> got "['+n.type+(null==e?"":":"+n.value)+"]",n.pos)},p.error=function(t,e){throw t="\n【 parse failed 】 "+t+":\n\n"+i.trackErrorPos(this.input,"number"==typeof e?e:this.ll().pos||0),new Error(t)},p.next=function(t){t=t||1,this.pos+=t},p.eat=function(t,e){var n=this.ll();if("string"!=typeof t){for(var i=t.length;i--;)if(n.type===t[i])return this.next(),n}else if(n.type===t&&(void 0===e||n.value===e))return this.next(),n;return!1},p.program=function(t){for(var e=[],n=this.ll();"EOF"!==n.type&&"TAG_CLOSE"!==n.type;)if(e.push(this.statement()),n=this.ll(),t&&"END"===n.type)return this.next(),r.body(e);return e};var v=/\r\n/g;function m(t,e){return{get:t,set:e}}p.statement=function(){var t=this.ll();switch(t.type){case"NAME":case"TEXT":var e=t.value;for(this.next();t=this.eat(["NAME","TEXT"]);)e+=t.value;return r.text(e.replace(v,"\n"));case"TAG_OPEN":return this.xml();case"OPEN":return this.directive();case"EXPR_OPEN":return this.interplation();default:this.error("Unexpected token: "+this.la())}},p.xml=function(){var t,e,n,o=this.match("TAG_OPEN").value;return f(o)&&this.error("Invalid Tag: "+o),t=this.attrs(),n=this.eat("/"),this.match(">"),n||i.isVoidTag(o)||(e=this.program(),this.eat("TAG_CLOSE",o)||this.error("expect </"+o+"> gotno matched closeTag")),r.element(o,t,e)},p.xentity=function(t){var e,n,i,o=t.value;return"NAME"!==t.type?("if"!==o&&this.error("current version. ONLY RULE #if #else #elseif is valid in tag, the rule #"+o+" is invalid"),this.if(!0)):(~o.indexOf(".")&&(o=(n=o.split("."))[0],i=n[1]),this.eat("=")&&(e=this.attvalue(i)),r.attribute(o,e,i))},p.attrs=function(t){for(var e,n=t?["NAME"]:["NAME","OPEN"],i=[];e=this.eat(n);)i.push(this.xentity(e));return i},p.attvalue=function(t){var e=this.ll();switch(e.type){case"NAME":case"UNQ":case"STRING":return this.next(),e.value;case"EXPR_OPEN":return this.interplation();case"BODY_OPEN":return this.next(),this.program(!0);default:this.error("Unexpected token: "+this.la())}},p.directive=function(){var t=this.ll().value;if(this.next(),"function"==typeof this[t])return this[t]();this.error("Undefined directive["+t+"]")},p.interplation=function(){this.match("EXPR_OPEN");var t=this.expression(!0);return this.match("END"),t},p.inc=p.include=function(){var t=this.expression();return this.match("END"),r.template(t)},p.if=function(t){var e,n,i=this.expression(),o=[],s=[],a=o,c=t?"attrs":"statement";for(this.match("END");!(n=this.eat("CLOSE"));)if("OPEN"===(e=this.ll()).type)switch(e.value){case"else":a=s,this.next(),this.match("END");break;case"elseif":return this.next(),s.push(this.if(t)),r.if(i,o,s);default:a.push(this[c](!0))}else a.push(this[c](!0));return"if"!==n.value&&this.error("Unmatched if directive"),r.if(i,o,s)},p.list=function(){var t,e,n,i=this.expression(),o=[],s=[],a=o;for(this.match("IDENT","as"),t=this.match("IDENT").value,this.eat("IDENT","by")&&(this.eat("IDENT",t+"_key")&&this.error("can not track by "+t+"_key in list statement"),(this.eat("IDENT",t+"_index")||(n=this.expression()).constant)&&(n=!0)),this.match("END");!(e=this.eat("CLOSE"));)this.eat("OPEN","else")?(a=s,this.match("END")):a.push(this.statement());return"list"!==e.value&&this.error("expect list got /"+e.value+" ",e.pos),r.list(i,t,o,s,n)},p.expression=function(){var t;return this.eat("@(")?((t=this.expr()).once=!0,this.match(")")):t=this.expr(),t},p.expr=function(){this.depend=[];var t=this.filter(),e=t.get||t,n=t.set;return r.expression(e,n,!this.depend.length,t.filters)},p.filter=function(){var t,e,n,r,o=this.assign(),s=this.eat("|"),c=[],u=o.set,l="";if(s){u&&(e=[],t=[]),n="(function(t){";do{var f=this.match("IDENT").value;l="t = "+a+"._f_('"+f+"' ).get.call( "+i.ctxName+",t";this.eat(":")?l+=", "+this.arguments("|").join(",")+");":l+=");",c.push(l),u&&(t.push(f),e.unshift(l.replace(" ).get.call"," ).set.call")))}while(this.eat("|"));c.push("return t"),e&&e.push("return t"),r=n+c.join("")+"})("+o.get+")",e&&(u=u.replace(i.setName,n+e.join("")+"})("+i.setName+")"));var d=m(r,u);return d.filters=t,d}return o},p.assign=function(){var t,e=this.condition();return(t=this.eat(["=","+=","-=","*=","/=","%="]))?(e.set||this.error("invalid lefthand expression in assignment expression"),m(e.set.replace(","+i.setName,","+this.condition().get).replace("'='","'"+t.type+"'"),e.set)):e},p.condition=function(){var t=this.or();return this.eat("?")?m([t.get+"?",this.assign().get,this.match(":").type,this.assign().get].join("")):t},p.or=function(){var t=this.and();return this.eat("||")?m(t.get+"||"+this.or().get):t},p.and=function(){var t=this.equal();return this.eat("&&")?m(t.get+"&&"+this.and().get):t},p.equal=function(){var t,e=this.relation();return(t=this.eat(["==","!=","===","!=="]))?m(e.get+t.type+this.equal().get):e},p.relation=function(){var t,e=this.additive();return(t=this.eat(["<",">",">=","<="])||this.eat("IDENT","in"))?m(e.get+t.value+this.relation().get):e},p.additive=function(){var t,e=this.multive();return(t=this.eat(["+","-"]))?m(e.get+t.value+this.additive().get):e},p.multive=function(){var t,e=this.range();return(t=this.eat(["*","/","%"]))?m(e.get+t.type+this.multive().get):e},p.range=function(){var t=this.unary();if(this.eat("..")){var e=this.unary();return m("(function(start,end){var res = [],step=end>start?1:-1; for(var i = start; end>start?i <= end: i>=end; i=i+step){res.push(i); } return res })("+t.get+","+e.get+")")}return t},p.unary=function(){var t;return(t=this.eat(["+","-","~","!"]))?m("("+t.type+this.unary().get+")"):this.member()},p.member=function(t,e,n,r){var o,l,f=!1;if(t?"string"==typeof e&&u(e)?n.push(e):(n&&n.length&&this.depend.push(n),n=null):"string"==typeof(l=this.primary())?((n=[]).push(l),t=a+"._sg_('"+(e=l)+"', undefined, "+s+", "+c+")",f=!0):"this"===l.get?(t=a,n=["this"]):(n=null,t=l.get),o=this.eat(["[",".","("]))switch(o.type){case".":var h=this.match("IDENT").value;return r=t,"("!==this.la()?t=a+"._sg_('"+h+"', "+t+" || null)":t+="."+h,this.member(t,h,n,r);case"[":return l=this.assign(),r=t,"("!==this.la()?t=a+"._sg_("+l.get+", "+t+" || null)":t+="["+l.get+"]",this.match("]"),this.member(t,l,n,r);case"(":return t=(t=t.replace(d,".__bind__"))+"("+this.arguments().join(",")+")",this.match(")"),this.member(t,null,n)}n&&n.length&&this.depend.push(n);var p={get:t};return e&&(p.set=a+"._ss_("+(e.get?e.get:"'"+e+"'")+","+i.setName+","+(r||i.varName)+", '=', "+(f?1:0)+")"),p},p.arguments=function(t){t=t||")";for(var e=[];this.la()!==t&&e.push(this.assign().get),this.eat(","););return e},p.primary=function(){var t=this.ll();switch(t.type){case"{":return this.object();case"[":return this.array();case"(":return this.paren();case"STRING":this.next();var e=""+t.value,n=~e.indexOf("'")?'"':"'";return m(n+e+n);case"NUMBER":return this.next(),m(""+t.value);case"IDENT":return this.next(),l(t.value)?m(t.value):t.value;default:this.error("Unexpected Token: "+t.type)}},p.object=function(){for(var t=[this.match("{").type],e=this.eat(["STRING","IDENT","NUMBER"]);e;){t.push("'"+e.value+"'"+this.match(":").type);var n=this.assign().get;t.push(n),e=null,this.eat(",")&&(e=this.eat(["STRING","IDENT","NUMBER"]))&&t.push(",")}return t.push(this.match("}").type),{get:t.join("")}},p.array=function(){var t,e=[this.match("[").type];if(this.eat("]"))e.push("]");else{for(;(t=this.assign())&&(e.push(t.get),this.eat(","));)e.push(",");e.push(this.match("]").type)}return{get:e.join("")}},p.paren=function(){this.match("(");var t=this.filter();return t.get="("+t.get+")",t.set=t.set,this.match(")"),t},t.exports=h},function(t,e){t.exports={element:function(t,e,n){return{type:"element",tag:t,attrs:e,children:n}},attribute:function(t,e,n){return{type:"attribute",name:t,value:e,mdf:n}},if:function(t,e,n){return{type:"if",test:t,consequent:e,alternate:n}},list:function(t,e,n,i,r){return{type:"list",sequence:t,alternate:i,variable:e,body:n,track:r}},expression:function(t,e,n,i){return{type:"expression",body:t,constant:n||!1,setbody:e||!1,filters:i}},body:function(t){return{type:"body",body:t}},text:function(t){return{type:"text",text:t}},template:function(t){return{type:"template",content:t}}}},function(t,e,n){var i=n(0),r=n(2),o=n(15),s=n(13),a=function(t){if(t){var e,n,i,r={};for(var s in t)i=typeof(e=t[s]),"expression"!==e.type?"string"==i?r[s]=o.expression(e):(n=r[s]={type:"expression"},"function"==i?n.get=c(e):(e.get&&(n.get=c(e.get)),e.set&&(n.set=function(t){return function(e,n){return t.call(e,n,e.data),n}}(e.set)))):r[s]=e;return r}};function c(t){return function(e){return t.call(e,e.data)}}t.exports={initDefinition:function(t,e,n){var r,s=!!e.computed,c="string"==typeof t.template&&e.template;e.data=e.data||{},e.computed=e.computed||{},t.data&&i.extend(e.data,t.data),t.computed&&i.extend(e.computed,t.computed);var u,l=t._eventListeners||[];return e.events&&((u=i.normListener(e.events)).length&&(l=l.concat(u)),delete e.events),e.data=e.data||{},e.computed=e.computed||{},t.data&&i.extend(e.data,t.data),t.computed&&i.extend(e.computed,t.computed),c="string"==typeof t.template&&!e.template,i.extend(t,e,!0),l&&l.length&&l.forEach((function(e){t.$on(e.type,e.listener)})),n&&n(),s&&(t.computed=a(t.computed)),t.$emit("$config",t.data),t.config&&t.config(t.data),t.$emit("$afterConfig",t.data),"string"==typeof(r=t.template)&&(r=o.parse(r),c?t.constructor.prototype.template=r:delete t.template),r},handleComputed:a,prepareAttr:function(t,e){if(t.parsed)return t;var n,i,a,c=t.value;return t.name,"string"==typeof c&&~c.indexOf(r.BEGIN)&&~c.indexOf(r.END)&&(e&&e.nps||(i=o.parse(c,{mode:2}),a=1===i.length&&"expression"===i[0].type?i[0]:(n=!0,a=[],i.forEach((function(t){t.constant||(n=!1),a.push(t.body||"'"+t.text.replace(/'/g,"\\'")+"'")})),s.expression("["+a.join(",")+"].join('')",null,n)),t.value=a)),t.parsed=!0,t}}},function(t,e,n){var i=n(5).exprCache,r=(n(0),n(12));t.exports={expression:function(t,e){if("string"==typeof t&&(t=t.trim())&&(t=i.get(t)||i.set(t,new r(t,{mode:2,expression:!0}).expression())),t)return t},parse:function(t){return new r(t).parse()}}},function(t,e,n){var i=n(1),r=n(7),o=t.exports={node:function(t){var e,n;if(t){if("function"==typeof t.node)return t.node();if("number"==typeof t.nodeType)return t;if(t.group)return o.node(t.group);if(t=t.children||t,Array.isArray(t)){if(1===t.length)return o.node(t[0]);n=[];for(var i=0,r=t.length;i<r;i++)if(e=o.node(t[i]),Array.isArray(e))for(var s=0,a=e.length;s<a;s++)n.push(e[s]);else e&&n.push(e);return n}}},inject:function(t,e){var n,s,a=this,c=o.node(a.group||a);if(!1===t)return r.remove(c),a;if(!c)return a;if("string"==typeof t&&(t=i.find(t)),!t)throw Error("injected node is not found");return r.inject(c,t,e),a.$emit&&(n=a.parentNode,s="after"===e||"before"===e?t.parentNode:t,a.parentNode=s,a.$emit("$inject",t,e,n)),a},last:function(t){var e=t.children;return"function"==typeof t.last?t.last():"number"==typeof t.nodeType?t:e&&e.length?o.last(e[e.length-1]):t.group?o.last(t.group):void 0},destroy:function(t,e){if(t){if("number"==typeof t.nodeType)return e&&i.remove(t);if("function"==typeof t.destroy)return t.destroy(e);if(Array.isArray(t))for(var n=0,r=t.length;n<r;n++)o.destroy(t[n],e)}}};i.element=function(t,e){if(!t)return e?[]:null;var n=o.node(t);if(1===n.nodeType)return e?[n]:n;for(var i=[],r=0;r<n.length;r++){var s=n[r];if(s&&1===s.nodeType){if(!e)return s;i.push(s)}}return e?i:i[0]}},function(t,e){function n(t,e){this.node=t,this.parent=e}n.prototype.next=function(){return this.prev=this.node,this.node=this.node.nextSibling,this},t.exports=function(t,e){return new n(t,e)}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var i=n(5),r=n(2),o=t.exports=n(4),s=o.Parser,a=o.Lexer;n(42),n(45),n(46),o.dom=n(1),o.env=i,o.util=n(0),o.parse=function(t,e){((e=e||{}).BEGIN||e.END)&&(e.BEGIN&&(r.BEGIN=e.BEGIN),e.END&&(r.END=e.END),a.setup());var n=new s(t).parse();return e.stringify?JSON.stringify(n):n},o.Cursor=n(17),o.isServer=i.node,o.isRegular=function(t){return t.prototype instanceof o}},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var c,u=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!l){var t=a(d);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||l||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=v,r.addListener=v,r.once=v,r.off=v,r.removeListener=v,r.removeAllListeners=v,r.emit=v,r.prependListener=v,r.prependOnceListener=v,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){var i,r,o=n(0),s=n(2),a=n(36),c={"}":"{","]":"["},u={NAME:/(?:[:_A-Za-z][-\.:_0-9A-Za-z]*)/,IDENT:/[\$_A-Za-z][_0-9A-Za-z\$]*/,SPACE:/[\r\n\t\f ]/},l=/a|(b)/.exec("a"),f=l&&void 0===l[1]?function(t){return void 0!==t}:function(t){return!!t};function d(t,e){c[s.END]&&(this.markStart=c[s.END],this.markEnd=s.END),this.input=t||"",this.opts=e||{},this.syntaxSets=a(),this.state=a(),this.map=2!==this.opts.mode?i:r,this.syntaxSets.enter("INIT"),e&&e.expression&&(this.syntaxSets.enter("JST"),this.expression=!0)}var h=d.prototype;function p(t){for(var e,n,i={},r=0,s=t.length;r<s;r++)(i[n=(e=t[r])[2]||"INIT"]||(i[n]={rules:[],links:[]})).rules.push(e);return function(t){var e,n,i,r,s,a,c;function l(t,e){return"string"==typeof u[e]?o.escapeRegExp(u[e]):String(u[e]).slice(1,-1)}for(var f in t){(e=t[f]).curIndex=1,i=[];for(var d=0,h=(n=e.rules).length;d<h;d++)s=(c=n[d])[0],"string"==typeof(r=c[1])&&(r=function(t){return function(e){return{type:t,value:e}}}(r)),"regexp"===o.typeOf(s)&&(s=s.toString().slice(1,-1)),s=s.replace(/\{(\w+)\}/g,l),a=o.findSubCapture(s)+1,e.links.push([e.curIndex,a,r]),e.curIndex+=a,i.push(s);e.TRUNK=new RegExp("^(?:("+i.join(")|(")+"))")}return t}(i)}h.lex=function(t){t=t||this.input;var e=/^\s*/.exec(t);t=t.trim();var n,i,r,o,s,a=[];for(this.input=t,this.marks=0,this.index=e?e[0].length:0;t;)s=this.syntaxSets.get(),(i=(n=this.map[s]).TRUNK.exec(t))||this.error("Unrecoginized Token"),r=i[0].length,t=t.slice(r),(o=this._process.call(this,i,n,t))&&a.push(o),this.index+=r;return a.push({type:"EOF"}),a},h.error=function(t){throw Error("Parse Error: "+t+":\n"+o.trackErrorPos(this.input,this.index))},h._process=function(t,e,n){for(var i,r=e.links,s=!1,a=r.length,c=0;c<a;c++){var u=r[c],l=u[2],d=u[0];if(f(t[d])){s=!0,l&&(i=l.apply(this,o.slice(t,d,d+u[1])))&&(i.pos=this.index);break}}if(!s)switch(n.charAt(0)){case"<":this.syntaxSets.enter("TAG");break;default:this.syntaxSets.enter("JST")}return i},d.setup=function(){u.END=s.END,u.BEGIN=s.BEGIN,i=p([v.BODY_END,v.ENTER_JST,v.ENTER_TAG,v.TEXT,v.TAG_NAME,v.TAG_OPEN,v.TAG_CLOSE,v.TAG_PUNCHOR,v.TAG_ENTER_JST,v.TAG_UNQ_VALUE,v.TAG_STRING,v.TAG_SPACE,v.TAG_COMMENT,v.JST_OPEN,v.JST_BODY_OPEN,v.JST_CLOSE,v.JST_EXPR_OPEN,v.JST_IDENT,v.JST_SPACE,v.JST_LEAVE,v.JST_NUMBER,v.JST_PUNCHOR,v.JST_STRING,v.JST_COMMENT]),r=p([v.BODY_END,v.ENTER_JST2,v.TEXT,v.JST_OPEN,v.JST_BODY_OPEN,v.JST_CLOSE,v.JST_EXPR_OPEN,v.JST_IDENT,v.JST_SPACE,v.JST_LEAVE,v.JST_NUMBER,v.JST_PUNCHOR,v.JST_STRING,v.JST_COMMENT])};var v={ENTER_JST:[/[^\x00<]*?(?={BEGIN})/,function(t){if(this.syntaxSets.enter("JST"),t)return{type:"TEXT",value:t}}],ENTER_JST2:[/[^\x00]*?(?={BEGIN})/,function(t){if(this.syntaxSets.enter("JST"),t)return{type:"TEXT",value:t}}],ENTER_TAG:[/[^\x00]*?(?=<[\w\/\!])/,function(t){if(this.syntaxSets.enter("TAG"),t)return{type:"TEXT",value:t}}],BODY_END:[/{SPACE}*{END}/,function(t){var e=this.syntaxSets.all();return"JST"===e[e.length-2]?(this.syntaxSets.leave("INIT"),this.syntaxSets.leave("JST"),{type:"END"}):{type:"TEXT",value:t}}],TEXT:[/[^\x00]+/,"TEXT"],TAG_NAME:[/{NAME}/,"NAME","TAG"],TAG_UNQ_VALUE:[/[^\{}&"'=><`\r\n\f\t ]+/,"UNQ","TAG"],TAG_OPEN:[/<({NAME})\s*/,function(t,e){return{type:"TAG_OPEN",value:e}},"TAG"],TAG_CLOSE:[/<\/({NAME})[\r\n\f\t ]*>/,function(t,e){return this.syntaxSets.leave(),{type:"TAG_CLOSE",value:e}},"TAG"],TAG_ENTER_JST:[/(?={BEGIN})/,function(){this.syntaxSets.enter("JST")},"TAG"],TAG_PUNCHOR:[/[\>\/=&]/,function(t){return">"===t&&this.syntaxSets.leave(),{type:t,value:t}},"TAG"],TAG_STRING:[/'([^']*)'|"([^"]*)\"/,function(t,e,n){return{type:"STRING",value:e||n||""}},"TAG"],TAG_SPACE:[/{SPACE}+/,null,"TAG"],TAG_COMMENT:[/<\!--([^\x00]*?)--\>/,function(t){this.syntaxSets.leave()},"TAG"],JST_OPEN:["{BEGIN}#{SPACE}*({IDENT})",function(t,e){return this.state.enter("JST_OPEN"),{type:"OPEN",value:e}},"JST"],JST_BODY_OPEN:["{BEGIN}~{SPACE}*",function(t,e){return this.syntaxSets.enter("INIT"),{type:"BODY_OPEN",value:e}},"JST"],JST_LEAVE:[/{END}/,function(t){return this.markEnd===t&&this.expression?{type:this.markEnd,value:this.markEnd}:this.markEnd&&this.marks?(this.marks--,{type:this.markEnd,value:this.markEnd}):(this.state.leave("JST_OPEN"),this.state.leave("JST_EXPR_OPEN"),this.syntaxSets.leave("JST"),{type:"END"})},"JST"],JST_CLOSE:[/{BEGIN}\s*\/({IDENT})\s*{END}/,function(t,e){return this.syntaxSets.leave("JST"),{type:"CLOSE",value:e}},"JST"],JST_COMMENT:[/{BEGIN}\!([^\x00]*?)\!{END}/,function(){this.syntaxSets.leave()},"JST"],JST_EXPR_OPEN:["{BEGIN}",function(t,e){if(t===this.markStart){if(this.expression)return{type:this.markStart,value:this.markStart};if(this.state.is("JST_OPEN")||this.state.is("JST_EXPR_OPEN")||this.marks)return this.marks++,{type:this.markStart,value:this.markStart};this.state.enter("JST_EXPR_OPEN")}return{type:"EXPR_OPEN",escape:!1}},"JST"],JST_IDENT:["{IDENT}","IDENT","JST"],JST_SPACE:[/[ \r\n\f]+/,null,"JST"],JST_PUNCHOR:[/[=!]?==|[-=><+*\/%\!]?\=|\|\||&&|\@\(|\.\.|[<\>\[\]\(\)\-\|\{}\+\*\/%?:\.!,]/,function(t){return{type:t,value:t}},"JST"],JST_STRING:[/'([^']*)'|"([^"]*)"/,function(t,e,n){return{type:"STRING",value:e||n||""}},"JST"],JST_NUMBER:[/(?:[0-9]*\.[0-9]+|[0-9]+)(e\d+)?/,function(t){return{type:"NUMBER",value:parseFloat(t,10)}},"JST"]};d.setup(),t.exports=d},function(t,e,n){var i=n(0),r=n(23);function o(t,e){return t===e}function s(t,e,n,r){if(!n)return i.simpleDiff(t,e);for(var s,a,c,u,l=function(t,e,n){for(var i=t.length,r=e.length,s=(n=n||o,[]),a=0;a<=i;a++)s.push([a]);for(var c=1;c<=r;c++)s[0][c]=c;for(a=1;a<=i;a++)for(c=1;c<=r;c++)n(t[a-1],e[c-1])?s[a][c]=s[a-1][c-1]:s[a][c]=Math.min(s[a-1][c]+1,s[a][c-1]+1);return s}(e,t,r),f=v=e.length,d=m=t.length,h=[],p=l[f][d];0<f||0<d;)0!==f?0!==d?(s=l[f-1][d-1],a=l[f-1][d],c=l[f][d-1],(u=Math.min(c,a,s))===a?(h.unshift(2),f--,p=a):u===s?(s===p?h.unshift(0):(h.unshift(1),p=s),f--,d--):(h.unshift(3),d--,p=c)):(h.unshift(2),f--):(h.unshift(3),d--);var v=0,m=0,g=[],y={index:null,add:0,removed:[]};for(f=0;f<h.length;f++)switch(0<h[f]?null===y.index&&(y.index=m):null!=y.index&&(g.push(y),y={index:null,add:0,removed:[]}),h[f]){case 0:v++,m++;break;case 3:y.add++,m++;break;case 2:y.removed.push(e[v]),v++;break;case 1:y.add++,y.removed.push(e[v]),v++,m++}return null!=y.index&&g.push(y),g}t.exports={diffArray:s,diffObject:function(t,e,n,o,a){if(n){var c=i.values(t),u=i.values(e);return"function"==typeof o?r(c,u,o,a):s(c,u,n)}for(var l in t)if(e[l]!==t[l])return!0;for(var f in e)if(e[f]!==t[f])return!0;return!1},diffTrack:r}},function(t,e,n){var i=n(0),r=n(3).DIFF;function o(t,e,n,i){i=i||1;var r=t[t.length-1];return r&&r.mode===e&&(0===e&&r.index===n||1===e&&r.index+r.len===n)?r.len++:t.push({mode:e,index:n,len:i}),t}function s(t,e,n,i){o(e,1,n,i),t.splice(n,0,null)}function a(t,e,n,i){o(e,0,n,i),t.splice(n,1)}function c(t,e){for(var n=[],i={},r=0,o=t.length;r<o;r++){t[r];var s=e(t[r]);i.hasOwnProperty(s)?n.push(r):i[s]=r}return{untrack:n,trackMap:i}}r.ADD_ALL,r.REMOVE_ALL,t.exports=function(t,e,n){var r=e.length,u=t.length,l=[],f={isTrack:!0,steps:l};if(!i.simpleDiff(t,e))return f;if(f.dirty=!0,r&&!u)return o(l,0,0,r),f;if(u&&!r)return o(l,1,0,u),f;var d=i.slice(e),h=c(t,n),p=c(e,n),v=h.trackMap,m=p.trackMap,g={},y=p.untrack,b=y.length;if(b)for(;b--;)y[b],a(d,l,y[b]);for(var _=d.length,w=0;w<_;w++){var x=n(d[w]);v.hasOwnProperty(x)||(g[x]=m[x],a(d,l,w),w--,_--)}for(var O=t.length,E=(w=0,0);E<O;)w>=d.length?(s(d,l,w,1),w++,E++):(x=n(d[w]),n(t[E])!==x&&s(d,l,w,1),w++,E++);var A=d.length;if(E<A){o(l,0,E,A-E);for(var T=E;T<A;T++)g[x=n(d[T])]=m[x]}return f.oldKeyMap=g,f}},function(t,e,n){var i=n(0),r=n(16);function o(t){this.children=t||[]}var s=i.extend(o.prototype,{destroy:function(t){r.destroy(this.children,t),this.ondestroy&&this.ondestroy(),this.children=null},get:function(t){return this.children[t]},push:function(t){this.children.push(t)}});s.inject=s.$inject=r.inject,t.exports=o},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var i=n(27),r=n(25),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var s=t[e];o.call(t,e)&&r(s,n)&&(void 0!==n||e in t)||i(t,e,n)}},function(t,e,n){var i=n(63);t.exports=function(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e,n){var i=n(18)(Object.keys,Object);t.exports=i},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(33),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(6))},function(t,e,n){(function(t,e){!function(t,n){"use strict";var i,r,o,s,a,c,u,l,f;function d(t){delete r[t]}function h(t){if(o)setTimeout(h,0,t);else{var e=r[t];if(e){o=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{d(t),o=!1}}}}function p(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(l)&&h(+e.data.slice(l.length))}t.setImmediate||(i=1,o=!(r={}),s=t.document,f=(f=Object.getPrototypeOf&&Object.getPrototypeOf(t))&&f.setTimeout?f:t,a="[object process]"==={}.toString.call(t.process)?function(t){e.nextTick((function(){h(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(l="setImmediate$"+Math.random()+"$",t.addEventListener?t.addEventListener("message",p,!1):t.attachEvent("onmessage",p),function(e){t.postMessage(l+e,"*")}):t.MessageChannel?((u=new MessageChannel).port1.onmessage=function(t){h(t.data)},function(t){u.port2.postMessage(t)}):s&&"onreadystatechange"in s.createElement("script")?(c=s.documentElement,function(t){var e=s.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,c.removeChild(e),e=null},c.appendChild(e)}):function(t){setTimeout(h,0,t)},f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return r[i]=o,a(i),i++},f.clearImmediate=d)}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(6),n(20))},function(t,e){var n=[].slice,i={}.toString;function r(t,e){for(var n in e)void 0===t[n]&&(t[n]=e[n]);return e}t.exports=function(){r(String.prototype,{trim:function(){return this.replace(/^\s+|\s+$/g,"")}}),r(Array.prototype,{indexOf:function(t,e){for(var n=e=e||0,i=this.length;n<i;n++)if(this[n]===t)return n;return-1},forEach:function(t,e){var n,i=0,r=Object(this),o=r.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(;i<o;)i in r&&(n=r[i],t.call(e,n,i,r)),i++},filter:function(t,e){var n=Object(this),i=n.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r,o=[],s=0;s<i;s++)s in n&&(r=n[s],t.call(e,r,s,n)&&o.push(r));return o}}),r(Function.prototype,{bind:function(t){var e=this,i=n.call(arguments,1);return function(){var r=i.concat(n.call(arguments));return e.apply(t,r)}},__bind__:function(t){return this.__binding__?this.__binding__:this.__binding__=this.bind.apply(this,arguments)}}),r(Array,{isArray:function(t){return"[object Array]"===i.call(t)}})}},function(t,e){t.exports={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,bull:8226,hellip:8230,prime:8242,Prime:8243,oline:8254,frasl:8260,weierp:8472,image:8465,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,circ:710,tilde:732,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,permil:8240,lsaquo:8249,rsaquo:8250,euro:8364}},function(t,e){t.exports=function(){return{_stack:[],enter:function(t){return this._stack.push(t),this},leave:function(t){var e=this._stack;return t&&e[e.length-1]!==t||e.pop(),this},get:function(){var t=this._stack;return t[t.length-1]},all:function(){return this._stack},is:function(t){var e=this._stack;return e[e.length-1]===t}}}},function(t,e,n){var i=n(0),r=/xy/.test((function(){}))?/\bsupr\b/:/.*/,o=function(t){return"function"==typeof t},s={events:function(t,e){var n=e._eventListeners||[],r=i.normListener(t);r.length&&(e._eventListeners=n.concat(r)),delete e.events}};function a(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(s.hasOwnProperty(i)&&s[i](e[i],t,n),t[i]=o(e[i])&&o(n[i])&&r.test(e[i])?function(t,e,n){return function(){var i=this.supr;this.supr=n[t];var r=e.apply(this,arguments);return this.supr=i,r}}(i,e[i],n):e[i])}var c=["data","computed"],u=c.length;t.exports=function t(e){e=e||{};var n,r=this,o=r&&r.prototype||{};if("function"==typeof e)return n=e.prototype,e.implement=l,e.extend=t,e;function s(){r.apply(this,arguments)}function l(t){for(var e=u;e--;){var r=c[e];n[r]&&t.hasOwnProperty(r)&&n.hasOwnProperty(r)&&(i.extend(n[r],t[r],!0),delete t[r])}return a(n,t,o),this}return n=i.createProto(s,o),s.implement=l,s.implement(e),r.__after__&&r.__after__.call(s,r,e),s.extend=t,s}},function(t,e,n){var i=n(22).diffArray,r=n(16),o=n(7),s=(n(12),n(13),n(24)),a=n(1),c=n(0),u=n(3),l=u.OPTIONS,f=u.ERROR,d=u.MSG,h=n(17),p=(n(2),n(14)),v=(n(3).DIFF,t.exports={});function m(t,e){return"array"===e?t:"object"===e?c.keys(t):[]}v.list=function(t,e){v.Regular;var n,u,l=document.createComment("Regular list"),f=e.namespace,d=e.extra,h=this,p=new s([l]),g=p.children,b=t.variable+"_index",_=t.variable+"_key",w=t.variable,x=t.alternate,O=t.track,E=e.cursor;function A(t,e,i,r){for(var o=1;o<=e;o++){var s=i[t+o];if(r){var a=n(s.data[w]);if(void 0!==r[a]){null!==r[a]&&s.inject(!1);continue}}s.destroy(!0)}i.splice(t+1,e)}function T(i,s,u,l,v){for(var m=i;m<s;m++){var y,b=u[m],_=null;!v||(_=v[y=n(b)])&&(v[y]=null);var w,x=!!_;x?j(_.data,m,b):(j(w=c.createObject(d),m,b,l),(_=h.$compile(t.body,{extra:w,namespace:f,record:!0,outer:e.outer,cursor:E})).data=w);var O=r.last(p.get(m));!O.parentNode||E&&E.node||(x?a:o).inject(r.node(_),O,"after"),g.splice(m+1,0,_)}}function j(t,e,n,i){t[b]=e,i?(t[_]=n,t[w]=i[n]):(t[w]=n,t[_]=null)}function k(t,e,n,i){for(var r=t;r<e;r++){var o=p.get(r+1),s=n[r];j(o.data,r,s,i)}}return y(l,E),O&&!0!==O&&(O=this._touchExpr(O),u=c.createObject(d),n=function(t,e){return u[w]=t,O.get(h,u)}),this.$watch(t.sequence,(function(t,n,s,a,u){var v,y,_,E,j,S,C,D,P=c.typeOf(t),I=c.typeOf(n),N=m(t,P),$=m(n,I),M=N&&N.length,R=$&&$.length;if("object"===P&&(v=t),!R&&M)return!p.get(1)||(y=g.pop()).destroy&&y.destroy(!0),T(0,M,N,v);if(!M)return R&&A(0,R,p.children),void(x&&x.length&&(_=h.$compile(x,{extra:d,record:!0,outer:e.outer,namespace:f}),g.push(_),l.parentNode&&o.inject(r.node(_),l,"after")));if(O)if(!0===O||u&&!s.length)j=$,S=v,C=(E=N).length,D=j.length,k(0,Math.min(C,D),E,S),C<D?A(C,D-C,g):D<C&&T(D,C,E,S);else{if(a)for(var F in a){var B=a[F];g[B+1]&&(a[F]=g[B+1])}!function(t,e,n,i){for(var r=0,o=e.length;r<o;r++){var s=e[r];switch(s.mode){case 0:A(s.index,s.len,p.children,i);break;case 1:T(s.index,s.index+s.len,t,n,i)}}for(var a=p.children,c=1,u=a.length;c<u;c++){var l=a[c];l&&(l.data[w]=t[c-1],l.data[b]=c-1)}}(N,s,v,a)}else!function(t,e,n,r){var o=0,s=t.length;if(n||0===s&&0===e.length||(n=i(t,e,!0)),n&&n.length){for(var a=0;a<n.length;a++){var c=n[a],u=c.index,l=c.removed,f=c.add,d=l.length;k(o,u,t,r),A(u,d,g),T(u,u+f,t,r),o=(o=u+f-d)<0?0:o}if(o<s)for(a=o;a<s;a++)p.get(a+1).data[b]=a}}(N,$,s,v)}),{init:!0,keyOf:n,diff:!0!==O,deep:!0}),E=null,p},v.template=function(t,e){var n,i,r=t.content,o=document.createComment("inlcude"),a=e.namespace,c=e.extra,u=new s([o]),f=e.cursor;return y(o,f),r&&((i=this).$watch(r,(function(t){var r=u.get(1),s=typeof t;r&&(r.destroy(!0),u.children.pop()),t&&(u.push(n="function"==s?t(f?{cursor:f}:null):i.$compile("object"!=s?String(t):t,{record:!0,outer:e.outer,namespace:a,cursor:f,extra:c})),o.parentNode&&!f&&n.$inject(o,"before"))}),l.INIT),f=null),u};var g=0;function y(t,e){e&&(e.node?a.inject(t,e.node,"before"):e.prev?(a.inject(t,e.prev,"after"),e.prev=t):e.parent&&(a.inject(t,e.parent),e.prev=t))}v.if=function(t,e){var n,i,a=this,c=e.extra;if(e&&e.element){var u=function(o){o?(i&&r.destroy(i),t.consequent&&(n=a.$compile(t.consequent,{record:!0,element:e.element,extra:c}))):(n&&r.destroy(n),t.alternate&&(i=a.$compile(t.alternate,{record:!0,element:e.element,extra:c})))};return this.$watch(t.test,u,l.FORCE),{destroy:function(){n?r.destroy(n):i&&r.destroy(i)}}}var f=document.createComment("Regular if"+g++),d=new s;d.push(f);var h=null,p=e.namespace,v=e.cursor;return y(f,v),u=function(n,i){var s,u,l=!!n;l!==h&&(h=l,d.children[1]&&(d.children[1].destroy(!0),d.children.pop()),u={record:!0,outer:e.outer,namespace:p,extra:c,cursor:v},l?t.consequent&&t.consequent.length&&(s=a.$compile(t.consequent,u)):t.alternate&&t.alternate.length&&(s=a.$compile(t.alternate,u)),s&&(d.push(s),f.parentNode&&!v&&o.inject(r.node(s),f,"before")),v=null)},this.$watch(t.test,u,l.FORCE_INIT),d},v._handleMountText=function(t,e){var n,i=t.node,r=a.text(i);if(r===e)n=i,t.next();else{var o=r.indexOf(e);if(!~o)throw Error(d[f.UNMATCHED_AST]);n=document.createTextNode(e),a.text(i,r.slice(o+e.length)),a.inject(n,i,"before")}return n},v.expression=function(t,e){var n,i,r=e.cursor,o=r&&r.node;return i=o?(n=c.toText(this.$get(t)),v._handleMountText(r,n)):document.createTextNode(""),this.$watch(t,(function(t){a.text(i,c.toText(t))}),l.STABLE_INIT),i},v.text=function(t,e){var n,i=e.cursor,r=t.text,o=-1!==r.indexOf("&")?c.convertEntity(r):r;if(i&&i.node)if(3!==i.node.nodeType){if(c.blankReg.test(o))return{code:f.UNMATCHED_AST}}else n=v._handleMountText(i,o);return n||document.createTextNode(o)},v.element=function(t,e){var n,i,s,u,l=t.attrs,p=this.constructor,m=t.children,g=e.namespace,y=e.extra,b=e.cursor,_=t.tag,w=p.component(_);if("r-content"===_)return c.log("r-content is deprecated, use {#inc this.$body} instead (`{#include}` as same)","warn"),this.$body&&this.$body(b?{cursor:b}:null);if(b&&b.node&&3===b.node.nodeType)if(c.blankReg.test(a.text(b.node)))b.next();else if(!w&&"r-component"!==_)throw Error(d[f.UNMATCHED_AST]);if(w||"r-component"===_)return e.Component=w,v.component.call(this,t,e);b&&(i=b.node),"svg"===_&&(g="svg"),m&&m.length&&!function(t){for(var e=t.length;e--;)if("r-html"===t[e].name)return!0}(l)&&(s=i?i.firstChild:null,u=this.$compile(m,{extra:y,outer:e.outer,namespace:g,cursor:h(s,i)})),i?(n=i,b.next()):n=a.create(_,g,l),!u||c.isVoidTag(_)||i||o.inject(r.node(u),n),c.fixTagAST(t,p);var x=function(t,e,n){for(var i=[],r=0,o=t.length;r<o;r++){var s=this._walk(t[r],{element:e,fromElement:!0,attrs:t,extra:n});s&&i.push(s)}return i}.call(this,l,n,y);return{type:"element",group:u,node:function(){return n},last:function(){return n},destroy:function(t){t?o.remove(n,u?u.destroy.bind(u):c.noop):u&&u.destroy(),x.length&&x.forEach((function(t){t&&("function"==typeof t.destroy?t.destroy():t())}))}}},v.component=function(t,e){for(var n,i,o,a,u=t.attrs,f=e.Component,d=e.cursor,h=this.constructor,m=e.extra,g=e.namespace,y=v.Regular.directive("ref"),b=this,_={},w=0,x=u.length;w<x;w++){var O=u[w];p.prepareAttr(O,"ref"===O.name&&y),(D=this._touchExpr(void 0===O.value||O.value)).constant&&(D=O.value=D.get(this)),O.value&&!0===O.value.constant&&(D=D.get(this));var E,A,T=O.name;if(O.event||(E=T.match(c.eventReg))&&(O.event=E[1]),"cmpl"===O.mdf&&(D=c.getCompileFn(D,this,{record:!0,namespace:g,extra:m,outer:e.outer})),D&&"body"===D.type&&(D=c.getCompileFn(D.body,this,{record:!0,namespace:g,extra:m,outer:e.outer})),"is"===T&&!f){o=D;var j=this.$get(D,!0);if("function"!=typeof(f=h.component(j)))throw new Error("component "+j+" has not registed!")}(A=O.event)?(a=a||{})[A]=c.handleEvent.call(this,D,A):(T=O.name=c.camelCase(T),D&&"expression"===D.type?_[T]=D.get(b):_[T]=D,"ref"===T&&null!=D&&(i=D),"isolate"===T&&(n="expression"===D.type?D.get(b):parseInt(!0===D?3:D,10),_.isolate=n))}var k,S={data:_,events:a,$parent:2&n?null:this,$root:this.$root,$outer:e.outer,_body:{ctx:this,ast:t.children}},C=(e={namespace:g,cursor:d,extra:e.extra},new f(S,e));for(i&&this.$refs&&(k=y.link.call(this,C,i),C.$on("$destroy",k)),w=0,x=u.length;w<x;w++){var D=(O=u[w]).value||!0;T=O.name;"expression"!==D.type||O.event||(D=b._touchExpr(D),2&n||this.$watch(D,function(t,e){this.data[t]=e}.bind(C,T),l.SYNC),!D.set||1&n||C.$watch(T,b.$update.bind(b,D),l.INIT))}if(o&&"expression"===o.type){var P=new s;return P.push(C),this.$watch(o,(function(t){var e=h.component(t);if(!e)throw new Error("component "+t+" has not registed!");var n,o=new e(S),s=P.children.pop();P.push(o),o.$inject(r.last(s),"after"),s.destroy(),i&&(n=i.get?i.get(this):i,b.$refs[n]=o)}),l.SYNC),P}return C},v.attribute=function(t,e){var n=t,i=this.constructor,r=n.name,o=i.directive(r);p.prepareAttr(t,o);var s=(d=n.value||"").constant,u=e.element,f=this,d=this._touchExpr(d);if(s&&(d=d.get(this)),o&&o.link){var h={attrs:e.attrs,param:c.getParamObj(this,n.param)},v=o.link.call(f,u,d,r,h);return"function"==typeof o.update&&(c.isExpr(d)?this.$watch(d,(function(t,e){o.update.call(f,u,t,e,h)})):o.update.call(f,u,d,void 0,h)),"function"==typeof v&&(v={destroy:v}),v}if("expression"===d.type?this.$watch(d,(function(t,e){a.attr(u,r,t)}),l.STABLE_INIT):c.isBooleanAttr(r)?a.attr(u,r,!0):a.attr(u,r,d),!e.fromElement)return{destroy:function(){a.attr(u,r,null)}}}},function(t,e,n){var i=n(0),r={destroy:"$destroy",update:"$update",init:"$init",config:"$config"};function o(t){return r[t]||t}var s={$on:function(t,e,n){if("object"==typeof t&&t)for(var i in t)this.$on(i,t[i],e);else{n=n||{},t=o(t);var r,s=this._handles||(this._handles={}),a=s[t]||(s[t]=[]);n.once&&(r=function(){e.apply(this,arguments),this.$off(t,e)},e.real=r),a.push(r||e)}return this},$off:function(t,e){var n=this;if(n._handles){t||(this._handles={});var i,r=n._handles;if(i=r[t=o(t)]){if(!e)return r[t]=[],n;e=e.real||e;for(var s=0,a=i.length;s<a;s++)if(e===i[s])return i.splice(s,1),n}return n}},$emit:function(t){var e,n=this,r=n._handles;if(t){var s=i.slice(arguments,1),a=o(t);if(!r)return n;if(!(e=r[a]))return n;1<e.length&&(e=e.slice());for(var c=0,u=e.length;c<u;c++)"function"==typeof e[c]&&e[c].apply(n,s);return n}},$once:function(t,e){var n=i.slice(arguments);return n.push({once:!0}),this.$on.apply(this,n)}};function a(){}i.extend(a.prototype,s),a.mixTo=function(t){t="function"==typeof t?t.prototype:t,i.extend(t,s)},t.exports=a},function(t,e,n){var i=n(0),r=n(15).expression,o=n(22),s=n(23),a=o.diffArray,c=o.diffObject;function u(){}var l={$watch:function(t,e,n){var r,o,s,a=!1,c=this.__ext__;this._watchers||(this._watchers=[]),this._watchersForStable||(this._watchersForStable=[]),!0===(n=n||{})&&(n={deep:!0});var u=i.uid("w_");if(Array.isArray(t)){for(var l=[],f=0,d=t.length;f<d;f++)l.push(this.$expression(t[f]).get);var h=[],p=function(t){for(var e=!0,n=0,r=l.length;n<r;n++){var o=l[n](t,c);i.equals(o,h[n])||(e=!1,h[n]=o)}return!e&&h}}else"function"==typeof t?r=t.bind(this):(t=this.$expression(t),i.isExpr(t)?(r=t.get,o=t.once):(r=function(){return t},a=o=!0));var v,m={id:u,get:r,fn:e,once:o,force:n.force,diff:n.diff,keyOf:n.keyOf,test:p,deep:n.deep,last:n.sync?r(this):n.last};return this[n.stable||a?"_watchersForStable":"_watchers"].push(m),(s=this._records&&this._records.length)&&this._records[s-1].push(m),!0===n.init&&(v=this.$phase,this.$phase="digest",this._checkSingleWatch(m),this.$phase=v),m},$unwatch:function(t){if(this._watchers&&t){var e=this._watchers,n=typeof t;if("object"==n){var r=t.length;if(r)for(;0<=r--;)this.$unwatch(t[r]);else t.removed=!0}else if("number"==n){var o=t;return t=(t=i.findItem(e,(function(t){return t.id===o})))||i.findItem(this._watchersForStable,(function(t){return t.id===o})),this.$unwatch(t)}return this}},$expression:function(t){return this._touchExpr(r(t))},$digest:function(){if("digest"!==this.$phase&&!this._mute){this.$phase="digest";for(var t=0;this._digest();)if(20<++t)throw Error("there may a circular dependencies reaches");var e=this._digest(!0);(0<t||e)&&this.$emit&&(this.$emit("$update"),this.devtools&&this.devtools.emit("flush",this)),this.$phase=null}},_digest:function(t){if(!this._mute){var e,n,i=t?this._watchersForStable:this._watchers,r=!1,o=i&&i.length;if(o)for(var s=0,a=0,c=0;c<o;c++){var u=!(n=i[c])||n.removed;u?a+=1:this._checkSingleWatch(n)&&(r=!0),u&&c!==o-1||(a&&(i.splice(s,a),o-=a,c-=a,a=0),s=c+1)}if((e=this._children)&&e.length)for(var l=0,f=e.length;l<f;l++){var d=e[l];d&&d._digest(t)&&(r=!0)}return r}},_checkSingleWatch:function(t){var e,n,r,o,u,l,f,d,h=!1;if(t)return t.test?(d=t.test(this))&&(h=!0,t.fn.apply(this,d)):(e=t.get(this),n=t.last,l=t.keyOf,e===n&&!t.force||(r=i.typeOf(n),"object"===(o=i.typeOf(e))&&"object"===r&&t.deep?((u=c(e,n,t.diff,l)).isTrack&&(u=(f=u).steps),!0!==u&&!u.length||(h=!0)):"array"!==o||"undefined"!=r&&"array"!==r?i.equals(e,n)&&!t.force||(h=!(t.force=null)):("function"==typeof l?(u=(f=s(e,t.last||[],l)).steps,f.dirty&&(h=!0)):u=a(e,t.last||[],t.diff),h||"array"===r&&!0!==u&&!u.length||(h=!0)))),h&&!t.test&&("object"===o&&t.deep||"array"===o?t.last=i.clone(e):t.last=e,t.fn.call(this,e,n,u,f&&f.oldKeyMap,f&&f.dirty),t.once&&this.$unwatch(t)),h},$set:function(t,e){if(null!=t){var n=typeof t;if("string"==n||"expression"===t.type)(t=this.$expression(t)).set(this,e);else if("function"==n)t.call(this,this.data);else for(var i in t)this.$set(i,t[i])}},$get:function(t,e){return e&&"string"==typeof t?t:this.$expression(t).get(this)},$update:function(){var t=this;if("destroyed"===t.$phase)return this;do{if(t.data.isolate||!t.$parent)break;t=t.$parent}while(t);var e=t.$phase;return t.$phase="digest",this.$set.apply(this,arguments),t.$phase=e,t.$digest(),this},_record:function(){this._records||(this._records=[]),this._records.push([])},_release:function(){return this._records.pop()}};i.extend(u.prototype,l),u.mixTo=function(t){return t="function"==typeof t?t.prototype:t,i.extend(t,l)},t.exports=u},function(t,e){var n=t.exports={};n.json={get:function(t){return"undefined"!=typeof JSON?JSON.stringify(t):t},set:function(t){return"undefined"!=typeof JSON?JSON.parse(t):t}},n.last=function(t){return t&&t[t.length-1]},n.average=function(t,e){return(t=t||[]).length?n.total(t,e)/t.length:0},n.total=function(t,e){var n=0;if(t)return t.forEach((function(t){n+=e?t[e]:t})),n}},function(t,e,n){var i=n(0),r=n(1),o=(n(7),n(4)),s=n(3),a=s.NAMESPACE,c=s.OPTIONS.STABLE,u={deep:!0,stable:!0};n(43),n(44),t.exports={"r-class":function(t,e){"string"==typeof e&&(e=i.fixObjStr(e));var n=t.namespaceURI&&t.namespaceURI!==a.html;this.$watch(e,(function(e){var i=" "+((i=n?t.getAttribute("class"):t.className)||"").replace(/\s+/g," ")+" ";for(var o in e)e.hasOwnProperty(o)&&(i=i.replace(" "+o+" "," "),!0===e[o]&&(i+=o+" "));i=i.trim(),n?r.attr(t,"class",i):t.className=i}),u)},"r-style":function(t,e){"string"==typeof e&&(e=i.fixObjStr(e)),this.$watch(e,(function(e,n){for(var i in n)n.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&r.css(t,i,"");for(i in e)e.hasOwnProperty(i)&&r.css(t,i,e[i])}),u)},"r-hide":{link:function(t,e){var n,r=null;i.isExpr(e)||"string"==typeof e?this.$watch(e,(function(e){var i=!!e;i!==r&&((r=i)?t.onleave?n=t.onleave((function(){t.style.display="none",n=null})):t.style.display="none":(n&&n(),t.style.display="",t.onenter&&t.onenter()))}),c):e&&(t.style.display="none")},ssr:function(t){return t?'style="display:none"':""}},"r-html":{ssr:function(t,e){return e.body=t,""},link:function(t,e){this.$watch(e,(function(e){e=e||"",r.html(t,e)}),{force:!0,stable:!0})}},ref:{accept:s.COMPONENT_TYPE+s.ELEMENT_TYPE,link:function(t,e){var n,r=this.$refs||(this.$refs={});return i.isExpr(e)?this.$watch(e,(function(e,i){n=e,r[i]===t&&(r[i]=null),n&&(r[n]=t)}),c):r[n=e]=t,function(){r[n]=null}}}},o.directive(t.exports)},function(t,e,n){var i=n(0),r=n(1),o=n(4);o._addProtoInheritCache("event"),o.directive(/^on-\w+$/,(function(t,e,n,i){if(n&&e){var r=n.split("-")[1];return this._handleEvent(t,r,e,i)}})),o.directive(/^(delegate|de)-\w+$/,(function(t,e,n){var o=this.$root,s=o._delegates||(o._delegates={});if(n&&e){var a=n.split("-")[1],c=i.handleEvent.call(this,e,a);s[a]||(s[a]=[],o.parentNode?r.on(o.parentNode,a,l):o.$on("$inject",(function(t,e,n){var i=this.parentNode;n&&r.off(n,a,l),i&&r.on(this.parentNode,a,l)})),o.$on("$destroy",(function(){o.parentNode&&r.off(o.parentNode,a,l),s[a]=null})));var u={element:t,fire:c};return s[a].push(u),function(){var t=s[a];if(t&&t.length)for(var e=0,n=t.length;e<n;e++)t[e]===u&&t.splice(e,1)}}function l(t){!function(t,e,n){if(n)for(var i,r=t.target;r&&r!==n;){for(var o=0,s=e.length;o<s;o++)(i=e[o])&&i.element===r&&i.fire(t);r=r.parentNode}}(t,s[a],o.parentNode)}}))},function(t,e,n){var i,r=n(0),o=n(1),s=n(3).OPTIONS.STABLE,a=n(4),c={text:function(t,e,n){var a,c=n.param,u=c.lazy;"throttle"in c&&(a=!0===c.throttle?400:parseInt(c.throttle,10));var l=this,f=this.$watch(e,(function(e){t.value!==e&&(t.value=null==e?"":""+e)}),s),d=!1,h=function(t){var n,i;d||(d=!1,n=this,"cut"===t.type||"paste"===t.type?r.nextTick((function(){var t=n.value;e.set(l,t),f.last=t,l.$update()})):(i=n.value,e.set(l,i),f.last=i,l.$update()))};return a&&!u&&(h=r.throttle(h,a)),void 0===i&&(i=9!==o.msie&&"oninput"in document.createElement("input")),u?o.on(t,"change",h):("function"==typeof CompositionEvent&&(t.addEventListener("compositionstart",(function(){d=!0})),t.addEventListener("compositionend",(function(t){d=!1,h.call(this,t)}))),i?t.addEventListener("input",h):o.on(t,"paste keyup cut change",h)),void 0===e.get(l)&&t.value&&e.set(l,t.value),function(){if(u)return o.off(t,"change",h);i?t.removeEventListener("input",h):o.off(t,"paste keyup cut change",h)}},select:function(t,e,n){var i=this,r=this.$watch(e,(function(e){for(var n=t.getElementsByTagName("option"),i=0,r=n.length;i<r;i++)if(n[i].value==e){t.selectedIndex=i;break}}),s);function a(){e.set(i,this.value),r.last=this.value,i.$update()}return o.on(t,"change",a),void 0===e.get(i)&&t.value&&e.set(i,t.value),function(){o.off(t,"change",a)}},checkbox:function(t,e){function n(){var t=this.checked;e.set(i,t),r.last=t,i.$update()}var i=this,r=this.$watch(e,(function(e){o.attr(t,"checked",!!e)}),s);return e.set&&o.on(t,"change",n),void 0===e.get(i)&&e.set(i,!!t.checked),function(){e.set&&o.off(t,"change",n)}},radio:function(t,e){function n(){var t=this.value;e.set(i,t),i.$update()}var i=this;return this.$watch(e,(function(e){e==t.value?t.checked=!0:t.checked=!1}),s),e.set&&o.on(t,"change",n),void 0===e.get(i)&&t.checked&&e.set(i,t.value),function(){e.set&&o.off(t,"change",n)}}};a.directive("r-model",{param:["throttle","lazy"],link:function(t,e,n,i){var r=t.tagName.toLowerCase(),o=r;return"input"===o?o=t.type||"text":"textarea"===o&&(o="text"),"string"==typeof e&&(e=this.$expression(e)),c[o]?c[o].call(this,t,e,i):"input"===r?c.text.call(this,t,e,i):void 0}})},function(t,e,n){var i=n(0),r=n(7),o=(n(1),n(4)),s=/\s+/;function a(t,e){var n=this.constructor;i.isExpr(e)&&(e=e.get(this));var r,o,s,a,c=(e=e.trim()).split(";"),u=[],l=[];function f(t){var e,n,o,s,a,c;r&&u.push(r),e=t,o=[],s=0,a=i.noop,r=c={type:e,start:function(t){return n=i.uid(),"function"==typeof t&&(a=t),0<s?s=0:c.step(),c.compelete},compelete:function(){n=null,a&&a(),a=i.noop,s=0},step:function(){o[s]&&o[s](c.done.bind(c,n))},done:function(t){t===n&&(s<o.length-1?(s++,c.step()):c.compelete())},push:function(t){o.push(t)}}}function d(t,e){e&&t()}function h(t){return function(){t.onenter=null,t.onleave=null}}for(var p,v=0,m=c.length;v<m;v++)if(o=(a=c[v].split(":"))[0]&&a[0].trim(),s=a[1]&&a[1].trim(),o)if("when"!==o)if("on"!==o){if(!(p=n.animation(o))||!r)throw Error(p?"you should start with `on` or `event` in animation":"undefined animator 【"+o+"】");r.push(p.call(this,{element:t,done:r.done,param:s}))}else f(s),"leave"===s?(t.onleave=r.start,l.push(h(t))):"enter"===s?(t.onenter=r.start,l.push(h(t))):"on"+s in t?l.push(this._handleEvent(t,s,r.start)):(this.$on(s,r.start),l.push(this.$off.bind(this,s,r.start)));else f("when"),this.$watch(s,d.bind(this,r.start));if(l.length)return function(){l.forEach((function(t){t()}))}}o._addProtoInheritCache("animation"),o.animation({wait:function(t){var e=parseInt(t.param)||0;return function(t){setTimeout(t,e)}},class:function(t){var e=t.param.split(","),n=e[0]||"",i=parseInt(e[1])||1;return function(e){r.startClassAnimate(t.element,n,e,i)}},call:function(t){var e=this.$expression(t.param).get,n=this;return function(t){e(n),n.$update(),t()}},emit:function(t){var e=t.param.split(","),n=e[0]||"",i=e[1]?this.$expression(e[1]).get:null;if(!n)throw Error("you shoud specified a eventname in emit command");var r=this;return function(t){r.$emit(n,i?i(r):void 0),t()}},style:function(t){var e,n={};return t.param.split(",").forEach((function(t){if(t=t.trim()){var i=t.split(s),r=i.shift(),o=i.join(" ");if(!r||!o)throw Error("invalid style in command: style");n[r]=o,e=!0}})),function(i){e?r.startStyleAnimate(t.element,n,i):i()}}}),o.directive("r-animation",a),o.directive("r-anim",a)},function(t,e,n){var i=n(4);function r(t){t.implement({$timeout:function(t,e){return e=e||0,setTimeout(function(){t.call(this),this.$update()}.bind(this),e)},$interval:function(t,e){return e=e||1e3/60,setInterval(function(){t.call(this),this.$update()}.bind(this),e)}})}i.plugin("timeout",r),i.plugin("$timeout",r)},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e){var n;"undefined"==typeof Element||Element.prototype.matches||((n=Element.prototype).matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector),t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},function(t,e,n){var i=n(56),r=n(62),o=n(26),s=n(65),a=n(66),c=n(67),u=n(71),l=n(72),f=n(74),d=n(76),h=n(77),p=n(78),v=n(79),m=n(80),g=n(81),y=n(85),b=n(86),_=n(87),w=n(30),x=n(88),O=n(28),E=n(29),A="[object Arguments]",T="[object Function]",j="[object Object]",k={};k[A]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[j]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[T]=k["[object WeakMap]"]=!1,t.exports=function t(e,n,S,C,D,P){var I,N=1&n,$=2&n,M=4&n;if(S&&(I=D?S(e,C,D,P):S(e)),void 0!==I)return I;if(!w(e))return e;var R=y(e);if(R){if(I=v(e),!N)return u(e,I)}else{var F=p(e),B=F==T||"[object GeneratorFunction]"==F;if(b(e))return c(e,N);if(F==j||F==A||B&&!D){if(I=$||B?{}:g(e),!N)return $?f(e,a(I,e)):l(e,s(I,e))}else{if(!k[F])return D?e:{};I=m(e,F,N)}}var L=(P=P||new i).get(e);if(L)return L;P.set(e,I),x(e)?e.forEach((function(i){I.add(t(i,n,S,i,e,P))})):_(e)&&e.forEach((function(i,r){I.set(r,t(i,n,S,r,e,P))}));var U=R?void 0:(M?$?h:d:$?E:O)(e);return r(U||e,(function(i,r){U&&(i=e[r=i]),o(I,r,t(i,n,S,r,e,P))})),I}},function(t,e,n){var i=n(57),r=n(58),o=n(59),s=n(60),a=n(61);function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=o,c.prototype.has=s,c.prototype.set=a,t.exports=c},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var i=n(8),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=i(e,t);return!(n<0||(n==e.length-1?e.pop():r.call(e,n,1),--this.size,0))}},function(t,e,n){var i=n(8);t.exports=function(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var i=n(8);t.exports=function(t){return-1<i(this.__data__,t)}},function(t,e,n){var i=n(8);t.exports=function(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},function(t,e){t.exports=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}},function(t,e,n){var i=n(64),r=function(){try{var t=i(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var i=n(9),r=n(28);t.exports=function(t,e){return t&&i(e,r(e),t)}},function(t,e,n){var i=n(9),r=n(29);t.exports=function(t,e){return t&&i(e,r(e),t)}},function(t,e,n){(function(t){var i=n(69),r=e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===r?i.Buffer:void 0,a=s?s.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,i=a?a(n):new t.constructor(n);return t.copy(i),i}}).call(this,n(68)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var i=n(70),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();t.exports=o},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(6))},function(t,e){t.exports=function(t,e){var n=-1,i=t.length;for(e=e||Array(i);++n<i;)e[n]=t[n];return e}},function(t,e,n){var i=n(9),r=n(73);t.exports=function(t,e){return i(t,r(t),e)}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var i=n(9),r=n(75);t.exports=function(t,e){return i(t,r(t),e)}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var i=n(18)(Object.keys,Object);t.exports=i},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(i.index=t.index,i.input=t.input),i}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var i=n(82),r=n(83),o=n(84);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:i(r(t))}},function(t,e,n){var i=n(30),r=Object.create;function o(){}t.exports=function(t){if(!i(t))return{};if(r)return r(t);o.prototype=t;var e=new o;return o.prototype=void 0,e}},function(t,e,n){var i=n(18)(Object.getPrototypeOf,Object);t.exports=i},function(t,e){t.exports=function(){return!1}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e){t.exports=function(){return!1}},function(t,e){t.exports=function(){return!1}},function(t,e){t.exports=function(){return!1}},function(t,e,n){"use strict";var i,r,o,s,a,c,u,l,f;function d(t){return t.constructor===Array}function h(t,e,n,i,o,c,u){var d,p=l;if(t)if(!s[t]||(a[t]=!1,i)){if(a[t])setTimeout((function(){h(t,e,n,i,o,c,u)}),1);else if(a[t]=!0,"js"===e||0<=t.indexOf(".js"))(d=r.createElement("script")).setAttribute("type","text/javascript"),n&&(d.charset=n),d.setAttribute("src",t),d.setAttribute("async",!0),f(d,(function(){s[t]=!0,o&&o(t,c),function(t){if(t.clearAttributes)t.clearAttributes();else for(var e in t)t.hasOwnProperty(e)&&"parentnode"!==e.toLowerCase()&&delete t[e];t&&t.parentNode&&t.parentNode.removeChild(t),t=null}(d)}),(function(){u&&u()})),p.parentNode?p.parentNode.insertBefore(d,p):r.body.insertBefore(d,null);else if("css"===e||0<=t.indexOf(".css"))return(d=r.createElement("link")).setAttribute("type","text/css"),n&&(d.charset=n),d.setAttribute("rel","stylesheet"),d.setAttribute("href",t),s[t]=!0,p.parentNode.insertBefore(d,p),void(o&&o(t,c))}else o&&o(t,c)}function p(t){t&&d(t)&&(this.queue=t,this.current=null)}function v(t,e){setTimeout((function(){var e="slog"+(+new Date+Math.random()),n=window[e]=new Image;n.src=t,n.onload=n.onerror=function(){window[e]=null}}),e||0)}n.r(e),n.d(e,"Cool",(function(){return In})),n.d(e,"CoolBox",(function(){return Fn})),n.d(e,"init",(function(){return Xn})),n.d(e,"CoolFlow",(function(){return Qn})),n.d(e,"CoolCube",(function(){return Hn})),n(31);var m=(r=document,o=window,s={},a={},c={onerror:function(){},mods:{}},u=r.getElementsByTagName("script"),l=u[u.length-1],f=r.createElement("script").readyState?function(t,e,n){t.onreadystatechange=function(){var n=t.readyState;"loaded"!==n&&"complete"!==n||(t.onreadystatechange=null,e.apply(this))},t.onerror=function(){n&&n.apply(this)}}:function(t,e,n){t.addEventListener("load",e,!1),t.addEventListener("error",n,!1)},p.prototype={_interval:10,start:function(){this.current=this.next(),this.current?this.run():this.end=!0},run:function(){var t,e=this,n=this.current;if("function"==typeof n)return n(),void this.start();"string"==typeof n&&(c.mods[n]?h((t=c.mods[n]).path,t.type,t.charset,t.force,(function(t){e.start()}),e,t.error):/\.js|\.css/i.test(n)?h(n,"","","",(function(t,e){e.start()}),e):this.start())},next:function(){return this.queue.shift()}},(i=function(){var t,e,n=[].slice.call(arguments),r=n[0];"string"!=typeof r&&"function"!=typeof r&&(t=r.name||r.path,e=r.callback||n[1],i.add(t,r),n[0]=t,n[1]=e),new p(function(t){if(t&&d(t)){for(var e,n=0,i=[],r=c.mods,o=[],s={};void 0!==(e=t[n++]);)r[e]&&r[e].requires&&r[e].requires[0]&&(o=[],s={},i=i.concat(function t(e){var n,i,a=0;if(s[e])return o;if(s[e]=!0,r[e].requires){for(i=r[e].requires;void 0!==(n=i[a++]);)r[n]&&t(n),o.push(n);return o}return o}(e))),i.push(e);return i}}(n)).start()}).add=function(t,e){t&&e&&e.path&&(c.mods[t]=e)},i.delay=function(){var t=[].slice.call(arguments),e=t.shift();o.setTimeout((function(){i.apply(this,t)}),e)},i.done=function(){for(var t,e=[].slice.call(arguments),n=0;t=e[n++];)"string"==typeof t&&(c.mods[t]?(mod=c.mods[t],s[mod.path]=!0):/\.js|\.css/i.test(t)&&(s[t]=!0))},i.css=function(t,e){e=e||"qboot-inline-css";var n=r.getElementById(e);n||((n=r.createElement("style")).type="text/css",n.id=e,r.getElementsByTagName("head")[0].appendChild(n)),n.styleSheet?n.styleSheet.cssText=n.styleSheet.cssText+t:n.appendChild(r.createTextNode(t))},i.setConfig=function(t,e){return c[t]=e,i},i.getConfig=function(t){return c[t]},i),g={};function y(t,e){this._ns="ns_"+t+"_",this._inited=!1,this.storeSvc=e?{init:function(t){e[t]={}},get:function(t,n){return e[t][n]},set:function(t,n,i){e[t][n]=i},remove:function(t,n){delete e[t][n]},clear:function(t){delete e[t]}}:b,this._obj=e,this.storeSvc&&!this._inited&&this.storeSvc.init(this._ns)}g.localStorage={test:function(){try{return!!window.localStorage}catch(t){return!1}},methods:{init:function(){},set:function(t,e,n){try{localStorage.setItem(t+e,n)}catch(t){throw t}},get:function(t,e){return localStorage.getItem(t+e)},remove:function(t,e){localStorage.removeItem(t+e)},clear:function(t){if(t)for(var e,n=localStorage.length-1;e=localStorage.key(n--);)e&&0===e.indexOf(t)&&localStorage.removeItem(e);else localStorage.clear()}}},g.userData={test:function(){try{return!(!window.ActiveXObject||!document.documentElement.addBehavior)}catch(t){return!1}},methods:{_owners:{},init:function(t){if(!this._owners[t]){var e,n;document.getElementById(t)?this._owners[t]=document.getElementById(t):(e=document.createElement("script"),n=document.head||document.getElementsByTagName("head")[0]||document.documentElement,e.id=t,e.style.display="none",e.addBehavior("#default#userdata"),n.insertBefore(e,n.firstChild),this._owners[t]=e);try{this._owners[t].load(t)}catch(t){}var i=this;window.attachEvent("onunload",(function(){i._owners[t]=null}))}},set:function(t,e,n){if(this._owners[t])try{this._owners[t].setAttribute(e,n),this._owners[t].save(t)}catch(t){throw t}},get:function(t,e){return this._owners[t]?(this._owners[t].load(t),this._owners[t].getAttribute(e)||""):""},remove:function(t,e){this._owners[t]&&(this._owners[t].removeAttribute(e),this._owners[t].save(t))},clear:function(t){if(this._owners[t]){var e=this._owners[t].XMLDocument.documentElement.attributes;this._owners[t].load(t);for(var n,i=0;n=e[i];i++)this._owners[t].removeAttribute(n.name);this._owners[t].save(t)}}}};var b=g.localStorage.test()?g.localStorage.methods:g.userData.test()?g.userData.methods:{init:function(){},get:function(){},set:function(){},remove:function(){},clear:function(){}},_={};y.serialize=function(t){return JSON.stringify(t)},y.unserialize=function(t){return JSON.parse(t)},y.prototype={set:function(t,e){try{return this.storeSvc.set(this._ns,t,y.serialize(e)),!0}catch(t){return!1}},get:function(t){try{return y.unserialize(this.storeSvc.get(this._ns,t))}catch(t){}},remove:function(t){try{this.storeSvc.remove(this._ns,t)}catch(t){}},clear:function(){try{this.storeSvc.clear(this._ns)}catch(t){}}},y.ins=function(t,e){return _[t]&&_[t]._obj==e||(_[t]=new y(t,e)),_[t]};var w=y;function x(t,e,n){this.storage=w.ins(t,n),this.signature=e,this.lastUpdate=null,this.dataFormatter={getter:null,setter:null}}x.clear=function(t){w.ins(t).clear()},x.prototype={setFormatter:function(t,e){this.dataFormatter={setter:t,getter:e}},set:function(t,e,n){this.dataFormatter&&this.dataFormatter.setter&&(e=this.dataFormatter.setter(e)),this.lastUpdate=(new Date).getTime();var i={value:e,signature:this.signature,lastUpdate:this.lastUpdate};n&&(i.expires=n),this.storage.set(t,i)},get:function(t,e){var n=this.storage.get(t);if(n&&n.signature===this.signature&&(e||!n.expires||(new Date).getTime()<n.expires))return n=n.value,this.dataFormatter&&this.dataFormatter.getter&&(n=this.dataFormatter.getter(n)),n},remove:function(t){this.storage.remove(t)},clear:function(){this.storage.clear()},getUpdatedTime:function(t){var e=this.storage.get(t);return e&&+e.lastUpdate},getExpires:function(t){var e=this.storage.get(t);return e&&e.expires}};var O=x,E=new O("cubesdk","sync"),A=function(){var t=E.get("cityCode");return/^\d+$/.test(t)||(t="101010100"),t||""},T=function(t){/^\d+$/.test(t)&&E.set("cityCode",t)},j=function(){return E.get("cityCode")},k="",S={get cityCode(){return A()},set cityCode(t){T(t)},mp360Support:!1,webpSupport:{lossy:!0,lossless:!0,alpha:!0,animation:!0},get userAgent(){return k||"".concat(navigator.userAgent," ").concat(this.appid)},set userAgent(t){k=t},where:"default",appid:"jssdk",hsid:"",guid:"",mid:"",huid:"",monitor:{show:!0,click:!0},project:"",u:"",noCubeAd:!1};function C(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var I,N,$,M={load:m,createEvents:function(t){var e={};return Object.defineProperties(t,{on:{value:function(t,n){e[t]=e[t]||[],e[t].push(n)}},fire:{value:function(n,i){var r=1<arguments.length&&void 0!==i?i:{},o=r.type,s=void 0===o?n:o,a=r.target,c=void 0===a?t:a,u=r.preventDefault,l=void 0===u?function(){r.returnValue=!1}:u;r.type=s,r.target=c,r.preventDefault=l;for(var f=e[n]||[],d=0;d<f.length;d++)f[d](r);return!1!==r.returnValue}},events:{value:e}})},encodeURIJson:function(t){var e=[];for(var n in t)if(null!=t[n])if(t[n]instanceof Array)for(var i=0;i<t[n].length;i++)e.push(encodeURIComponent(n)+"[]="+encodeURIComponent(t[n][i]));else e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")},jsonp:(I={},N=0,$={},R.getMonitorData=function(){return $},R)};function R(t,e,n,i){var r=3<arguments.length&&void 0!==i?i:{};"object"!==P(e)&&(r=n,n=e,e=null),r=D({jsonp:"callback",timeout:3e4,threshold:1},r);var o,s,a=M.createEvents({});function c(t,e){$[o].endTime=+new Date,a.fire("resourceLoaded",{data:$[o]});var n=s.shift();n&&n(t,e)}e&&(t+=(/\?/.test(t)?"&":"?")+M.encodeURIJson(e)),o=I[t]=I[t]||r.cb||"__sdkjsonp"+N+++"__",$[o]={url:t,startTime:+new Date},t+=(/\?/.test(t)?"&":"?")+r.jsonp+"="+encodeURIComponent(o)+"&t="+Math.floor((new Date).getTime()/r.threshold),window[o]||(window[o]=(s=[],c.add=function(t){s.push(t)},c));var u=setTimeout((function(){window[o](null,{status:"error",reason:"timeout"})}),r.timeout);window[o].add((function(t,e){clearTimeout(u),n&&n(t,e=e||{status:"ok"})})),M.load({path:t,type:"js",force:!0})}function F(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}M.events=M.createEvents({});for(var L,U,H,V=(U=!(L={lossy:!1,lossless:!1,alpha:!1,animation:!1}),H=0,function(){var t="webp_support",e=new O("cubesdk"),n=e.get(t);return n?L=n:U||function(t){var e={lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA=="};try{for(var n in e)!function(n){var i=new Image;i.onload=function(){L[n]=0<i.width&&0<i.height,0==--H&&t&&t()},i.src="data:image/webp;base64,"+e[n],H++}(n)}catch(n){}U=!0}((function(){e.set(t,L,(new Date).getTime()+1296e6)})),L}),J=V(),G={clipImg4QhCdn:{matchMust:!0,domainsMatch:["qhimg.com","qhimgs4.com","qhimgs.com","qhmsg.com","qhimgs3.com","img.360kuai.com"],ruleFunc:function(t,e,n,i){"dmfd"==(n=n||"dmfd")&&(e=e.replace(/^(\d+\_\d+)$/,"$1_"));var r,o,s,a=("/"+t.pathname).replace("//","/").replace(/(drr|dc|dr|sdr|bdr|edr|edrh|dm|sdm|dmt|dmb|dml|dmr|bdm|bdmt|bdmb|bdml|bdmr|sdmt|dmfd|dmtfd|video|dmsmty)\/[\d\_]+\//g,""),c="/"+n+(e?"/"+e:"");return i&&(o=[],(r=V()).lossless&&o.push("jpg","png"),r.animation&&o.push("gif"),s=new RegExp("\\.("+o.join("|")+")$","i"),a=a.replace(s,".webp")),t.pathname=c+a,t.href}},clipImg4MvCdn:{domainsMatch:["s3m.mediav.com","s3m.milkjpg.com","nzwgs.com","fenxi.com"],ruleFunc:function(t,e,n,i){var r=window.location.protocol+"//imgx.mediav.com/rimg.jpg?";if(0===t.href.indexOf(r))return t.href;var o,s={size:e.split("_").slice(0,2).join("x"),img:t.href};return i&&((o=V()).lossless&&/\.(jpg|png)$/i.test(t.href)&&(s.webp=1),o.animation&&/\.(gif)$/i.test(t.href)&&(s.webp=1)),r+M.encodeURIJson(s)}}},q=function(t,e,n){var i=1<arguments.length&&void 0!==e?e:{},r=2<arguments.length?n:void 0;if(t=t.toString(),!i)return t;var o=document.createElement("a");o.href=t,"string"==typeof i&&(i={whq:i}),(i=B({rule:"dmfd",whq:"",webp:!1},i)).whq=i.whq.replace(/[^\d]/g,"_");var s,a=o.hostname.toLowerCase();for(var c in G){var u=G[c].matchMust,l=G[c].domainsMatch,f=G[c].ruleFunc;if(r&&u||new RegExp("(^|\\.)("+l.join("|")+")$","i").test(a)){s=f;break}}return s?s(o,i.whq,i.rule,i.webp):t},Y={format:function(){function t(t){return(t=""+(String(t)||"")).length<=1?"0"+t:t}var e={yyyy:function(t){return t.getFullYear()},MM:function(e){return t(e.getMonth()+1)},dd:function(e){return t(e.getDate())},HH:function(e){return t(e.getHours())},mm:function(e){return t(e.getMinutes())},ss:function(e){return t(e.getSeconds())}},n=[];for(var i in e)n.push(i);var r=new RegExp(n.join("|"),"g");return function(t,n){return t?(n=n||"yyyy-MM-dd HH:mm",t=new Date(t),n.replace(r,(function(n){return e[n]?e[n](t):""}))):""}}(),filter:function(t,e){if(t&&t.length)return t.filter((function(t,n){return e(t,n)}))},clipImage:function(t,e,n){return q(t,{whq:e,rule:n||"dmfd",webp:!0})},join:{get:function(t,e){return t.join(e)},set:function(t,e){return t.split(e)}}},z=n(19),Q={},X=["model","class","style","hide","html","animation","anim"],W=0;W<X.length;W++)Q["c-"+X[W]]=z.directive("r-"+X[W]);var Z={stable:!0};Q["c-show"]={link:function(t,e){var n,i=null;!function(t){return t&&"expression"===t.type}(e)&&"string"!=typeof e?e&&(t.style.display=""):this.$watch(e,(function(e){var r=!!e;r!==i&&((i=r)?t.onenter?n=t.onenter((function(){t.style.display="",n=null})):t.style.display="":(n&&n(),t.style.display="none",t.onleave&&t.onleave()))}),Z)}};var K=Q;function tt(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}n(47);var et={name:"Button",template:['<div class="c-button {{class}}" c-hide={{!visible}} on-click={{this._click()}} {{#if onKeypress}} on-keypress={{onKeypress()}} {{/if}}>',"{{#if href}}",'<a href="{{href}}" class="c-button__href c-button__{{type}}" ','c-class=\'{"c-button__disabled": disabled, "c-button__circle": circle}\' ',"disabled={{disabled}} ",'style="width: {{width}}px;height: {{height}}px;line-height: {{height}}px"',">{{title}}{{#inc this.$body}}</a>","{{#else}}",'<button class="c-button__block c-button__{{type}}" ','c-class=\'{"c-button__disabled": disabled, "c-button__circle": circle}\' ',"disabled={{disabled}} ",'style="width: {{width}}px;height: {{height}}px"',"type={{nativetype}}",">{{title}}{{#inc this.$body}}</button>","{{/if}}","</div>"].join(""),config:function(t){this.supr(),this.setData(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({visible:!0,disabled:!1,circle:!1,type:"success",width:100,title:"",class:"",height:50,href:"",nativetype:"button",onClick:null,onKeypress:null,clickaction:"innerclk",args:[]},t)),this.data.circle&&this.setData({height:this.data.width})},_click:function(){this.data.onClick&&this.data.onClick.apply(this,this.data.args),this.activeclk(this.data.clickaction)}},nt=(n(48),{name:"Carousel",template:['<div class="c-carousel {{class}}" style="height: {{height}}px; width: {{width}}px;" on-mouseenter={{this.mouseenter()}} on-mouseleave={{this.mouseleave()}}>',"{{#include this.$body}}","<div class=\"c-carousel__btn c-carousel__btn_prev\" on-click={{this.prev()}} c-show={{((btns === 'always') || hover) && list.length > 1}}><span>{{prevBtnText}}</span><i></i></div>","<div class=\"c-carousel__btn c-carousel__btn_next\" on-click={{this.next()}} c-show={{((btns === 'always') || hover) && list.length > 1}}><span>{{nextBtnText}}</span><i></i></div>","</div>"].join(""),config:function(){this.supr();var t=this.data.autoplay;void 0===this.data.autoplay&&(t=!0);var e={list:[],current:0,timer:null,hover:!1,interval:this.data.interval||3e3,autoplay:t,class:this.data.class||"",height:this.data.height||155,width:this.data.width||368,btns:this.data.btns||"hover",prevBtnText:this.data.prevBtnText||"上一张",nextBtnText:this.data.nextBtnText||"下一张"};this.$on({$next:this.data.next,$prev:this.data.prev,$change:this.data.change}),this.setData(e)},init:function(){this.supr(),this.startTimer()},onShow:function(){this.startTimer()},onHide:function(){this.pauseTimer()},destroy:function(){this.supr(),this.pauseTimer(),this.$off()},mouseenter:function(){"hover"===this.data.btns&&this.setData({hover:!0}),this.pauseTimer()},mouseleave:function(){"hover"===this.data.btns&&this.setData({hover:!1}),this.startTimer()},startTimer:function(){var t,e;this.data.timer||this.data.interval<=0||!this.data.autoplay||(e=setInterval((function(){t.changeCurrent("next",1)}),(t=this).data.interval),this.setData({timer:e}))},pauseTimer:function(){this.data.timer&&(clearInterval(this.data.timer),this.setData({timer:null}))},next:function(){this.changeCurrent("next",1),this.$emit("$next",this.data.current),this.activeclk("interactiveclk")},prev:function(){this.changeCurrent("prev",-1),this.$emit("$prev",this.data.current),this.activeclk("interactiveclk")},changeCurrent:function(t,e){var n,i=this.data,r=this.data.current;i.list.length<=1||(n="prev"===t&&0===i.current?i.list.length-1:"next"===t&&i.current===i.list.length-1?0:i.current+e,this.setData({current:n}),this.$emit("$change",n,r))}}),it={name:"Carousel.Item",template:["<div class=\"c-carousel__item {{this.$outer.data.list[this.$outer.data.current] === this ? 'c-carousel__item_current' : ''}}\">","{{#include this.$body}}","</div>"].join(""),init:function(){this.supr(),this.$outer&&this.$outer.data.list.push(this)},destroy:function(){if(this.supr(),this.$outer){for(var t=null,e=0;e<this.$outer.data.list.length;e++)this.$outer.data.list[e]===this&&(t=e);"number"==typeof t&&this.$outer.data.list.splice(t,1),this.$outer.data.current>=t&&(this.$outer.data.current=0)}}};function rt(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}n(49);var ot={name:"Divider",template:['<div class="c-divider {{class}}" {{#if direction==="horizontal"}} class="c-divider c-divider--{{shape}}" {{/if}}',' c-class=\'{"c-divider--horizontal": direction === "horizontal", "c-divider--vertical": direction === "vertical"}\'>','<div class="c-divider__content" ','c-class=\'{"c-divider__content--left": position === "left", "c-divider__content--center": position === "center", "c-divider__content--right": position === "right"}\'>',"{{#inc this.$body}}","</div>","</div>"].join(""),config:function(t){this.supr(),this.setData(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({direction:"horizontal",position:"center",shape:"dashed",class:""},t))}};function st(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(50);var ct={name:"List",template:['<ul class="c-list {{class}}">',"{{#include this.$body}}","</ul>"].join(""),config:function(t){this.supr(),this.setData(at({class:""},t))}},ut={name:"List.Item",template:['<li class="c-list__item {{class}}">','<div class="c-list__item--circle"></div>','{{#if type === "div"}}','<div class="c-list__item--link" title="{{title}}" {{#if href || onClick}} on-click="{{this.onClick()}}" {{/if}}>',"{{#include this.$body}}","</div>","{{#else}}",'<a class="c-list__item--link" href="{{href}}" {{#if onClick}} on-click="{{this.onClick()}}" {{/if}} title="{{title}}">{{#include this.$body}}</a>',"{{/if}}",'<div class="c-list__item--adlogo" c-hide={{!showLogo}}></div>','<span class="c-list__item--suffix" c-hide={{!suffix}}>{{suffix}}</span>',"</li>"].join(""),config:function(t){this.setData(at({type:"normal",href:"",class:"",title:"",suffix:"",showLogo:!1,onClick:""},t))},onClick:function(){"function"==typeof this.data.onClick&&this.data.onClick(),this.data.href&&"div"===this.data.type&&window.open(this.data.href,"_blank","")}};function lt(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(51);var dt={template:['<div class="c-tabs {{class}}" style="width:{{width}}px;height:{{height}}px" c-hide={{!visible}}>','<ul class="c-tabs__hd c-tabs__hd_{{position}}">',"{{#list tabs as item}}",'<li class="c-tabs__item" c-class=\'{"c-tabs__item_active": this.data.selected === item, "c-tabs__item_disabled": item.data.disabled}\' on-click={{this.select(item)}} disabled={{item.data.disabled}} >',"{{item.data.title}}","</li>","{{/list}}","</ul>",'<div class="c-tabs__bd c-tabs__bd_{{position}}">',"{{#include this.$body}}","</div>","</div>"].join(""),name:"Tabs",config:function(t){this.supr(),this.setData(ft({visible:!0,position:"top",class:"",width:"100",height:"200",tabs:[],selected:void 0},t)),this.$watch("selected",(function(t,e){e&&this.$emit("change",{beforeValue:e,afterValue:t})}))},select:function(t){t.data.disabled||(this.data.selected=t,this.$emit("select",{sender:this,selected:t}))}},ht={name:"Tab",template:"<div c-hide={{this.$outer.data.selected !== this}}>{{#include this.$body}}</div>",config:function(t){this.setData(ft({title:"",disabled:!1},t)),this.$outer&&this.$outer.data.tabs.push(this),this.$outer.data.selected||(this.$outer.data.selected=this)}};function pt(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}n(52);var vt={name:"Video",videos:[],template:["<div",' c-style=\'{"object-fit": objectFit,"height":height+"px","width":width+"px"}\'',' class="c-video {{class}}"',' ondragstart="return false;"',">",'<a c-show={{href}} href="{{href}}" target="_blank" class="c-video__a_link" />',"<video"," c-style='{\"object-fit\": objectFit}'",' class="c-video__body"',' ref="video"'," loop",' poster="{{ poster }}"',">",'<source src="{{ src }}" />',"</video>","<div"," c-show={{controls}}",' on-click="{{this.onControlStopEvent($event)}}"',' on-mouseup="{{this.onControlStopEvent($event)}}"',' class="c-video__volume"',' on-mouseleave="{{this.onVolumeMouseLeave($event)}}"',">","<div",' class="c-video__control"',' on-mousedown="{{this.onControlMouseDown($event)}}"',">",'<div class="c-video__control-info">',"{{ Math.round((controlValueHeight / soundControlHeight) * 100) }}%","</div>",'<div class="c-video__control-range" c-style=\'{"height":soundControlHeight+"px"}\'  >',"<div",' class="c-video__control-value"',' c-style=\'{"height": controlValueHeight+"px"}\'',">",'<div class="c-video__control-handler"></div>',"</div>","</div>","</div>","<div",' on-click="{{this.setVolume($event)}}"',' class="c-video__volume-img"',' c-class=\'{"c-video__volume-img_yes": !mutedImg, "c-video__volume-img_no": mutedImg}\'',"/>","</div>",'<div class="c-video__dec" c-show={{controls}}>',"{{title}}","</div>","</div>"].join(""),video:{},startY:0,initY:0,offLoadeddata:function(){},config:function(t){this.supr();var e=this;this.setData(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({src:"",poster:"",title:"",controls:!0,height:155,soundControlHeight:90,width:368,href:"",objectFit:"contain",class:"",controlValueHeight:0,mutedImg:!0},t)),this.$watch("src",(function(t,e){t&&this.loadVideo()})),this.onControlMouseMove=function(){e._onControlMouseMove.apply(e,[].slice.call(arguments))},this.onControlMouseUp=function(){e._onControlMouseUp.apply(e,[].slice.call(arguments))},this.closeVolume=function(){e._closeVolume.apply(e,[].slice.call(arguments))},this.videoLoadedData=function(){e._videoLoadedData.apply(e,[].slice.call(arguments))}},init:function(){this.supr(),this.videos.push({closeVolume:this.closeVolume}),this.initVideo()},destroy:function(){this.supr(),this.closeVolume(),this.offLoadeddata()},_videoLoadedData:function(){2<=this.video.readyState&&this.play()},onShow:function(){this.offLoadeddata(),2<=this.video.readyState?this.play():this.offLoadeddata=this.utils.domOn(this.video,"loadeddata",this.videoLoadedData)},onHide:function(){this.video.pause&&this.video.pause()},loadVideo:function(){this.video.load()},initVideo:function(){this.video=this.$refs.video,this.video.muted=!0},utils:{domOn:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},geomPosition:function(t,e){var n,i,r={x:(r=t.getBoundingClientRect()).left,y:r.top,sx:r.left,sy:r.top,w:r.right-r.left,h:r.bottom-r.top,bottom:r.bottom,right:r.right};return e&&(n=window.pageXOffset,i=window.pageYOffset,r.sx+=n,r.sy+=i),r}},onVolumeMouseLeave:function(){this.onControlMouseUp()},onControlStopEvent:function(t){t.preventDefault(),t.stopPropagation()},onControlMouseDown:function(t){var e=this.utils.geomPosition(t.origin,!0);this.onControlMouseMove("",e.bottom-t.event.clientY-5),this.startY=t.pageY,this.initY=this.data.controlValueHeight,document.addEventListener("mousemove",this.onControlMouseMove),document.addEventListener("mouseup",this.onControlMouseUp,!0)},_onControlMouseUp:function(){document.removeEventListener("mousemove",this.onControlMouseMove),document.removeEventListener("mouseup",this.onControlMouseUp,!0)},_onControlMouseMove:function(t,e){var n=this.initY+this.startY-t.pageY;if("number"==typeof e&&(n=e),n<0&&(n=0),0!=n||this.video.muted||(this.video.muted=!0),0<n&&this.video.muted){for(var i=0,r=this.videos.length;i<r;i++)this.videos[i].closeVolume();this.video.muted=!1}n>this.data.soundControlHeight&&(n=this.data.soundControlHeight),this.video.volume=n/this.data.soundControlHeight,this.setData({controlValueHeight:n,mutedImg:this.video.muted})},setVolume:function(){this.video.muted?this.startVolume():this.closeVolume()},startVolume:function(){for(var t=0,e=this.videos.length;t<e;t++)this.videos[t].closeVolume();this.setData({controlValueHeight:this.data.soundControlHeight,mutedImg:!1}),this.video.muted=!1,this.video.volume=1},_closeVolume:function(){this.video.muted||(this.setData({controlValueHeight:0,mutedImg:!0}),this.video.muted=!0,this.video.volume=0)},play:function(){this.video.play()}};function mt(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}n(53);var gt=[],yt={button:et,carousel:nt,divider:ot,list:ct,tabs:dt,video:vt,envideo:{name:"Envideo",template:['<div class="c-envideo-wrap  c-envideo-effect{{effect}} {{slideanim}}" c-show="{{ showVideo }}">',"<a",' href="{{ curlLink }}"',' on-mousedown="{{this.setDownTime(time !== 0, $event)}}"',' on-mouseup="{{this.onMouseup(time !== 0, $event)}}"',' on-click="{{this.onAClick(time !== 0, $event)}}"'," c-class='{\"c-envideo-curl\": time === 0}'",' class="c-envideo-a"',">",'<div class="c-envideo__header-wrap">','<div class="c-envideo__advert">广告</div>','<div class="c-envideo__close" c-show="{{ closebtnshow !== 0 }}" ',' on-mouseup="{{this.onControlStopEvent($event)}}"',' on-click="{{this.onCloseVideo($event)}}">关闭</div>','<div class="c-envideo__time" c-show="{{ time !== 0 }}">',"观看{{ time }}s后，可以获得奖励","</div>",'<div  class="c-envideo__warmtext"  c-show="{{taptipshow === 1}}" >请点击下方查看按钮</div>',"</div>","<div"," c-style='{\"object-fit\": objectFit}'",' class="c-envideo {{class}}"',' ondragstart="return false;"',">","<video"," c-style='{\"object-fit\": objectFit}'",' class="c-envideo__body"',' ref="video"'," loop",' poster="{{ dataRes.img }}"',">",'<source src="{{ dataRes.video }}" />',"</video>","<div",' on-click="{{this.onControlStopEvent($event)}}"',' on-mouseup="{{this.onControlStopEvent($event)}}"',' class="c-envideo__volume"',' on-mouseleave="{{this.onVolumeMouseLeave($event)}}"',">","<div",' class="c-envideo__control"',' on-mousedown="{{this.onControlMouseDown($event)}}"',">",'<div class="c-envideo__control-info">',"{{ Math.round((controlValueHeight / soundControlHeight) * 100) }}%","</div>",'<div class="c-envideo__control-range" c-style=\'{"height":soundControlHeight+"px"}\'  >',"<div",' class="c-envideo__control-value"',' c-style=\'{"height": controlValueHeight+"px"}\'',">",'<div class="c-envideo__control-handler"></div>',"</div>","</div>","</div>","<div",' on-click="{{this.setVolume($event)}}"',' class="c-envideo__volume-img"',' c-class=\'{"c-envideo__volume-img_yes": !mutedImg, "c-envideo__volume-img_no": mutedImg}\'',"/>","</div>","</div>","</a>","<a",' href="{{ curlLink }}"',' on-mousedown="{{this.setDownTime(false,$event)}}"',' on-mouseup="{{this.onMouseup(false,$event)}}"',' class="c-envideo__dec"',">",'<div class="c-envideo__dec-text" title="{{dataRes.title}}">{{dataRes.title}}</div>','<div class="c-envideo__prize">',"查看奖品","</div>","</a>","</div>"].join(""),video:{},offsetX:0,offsetY:0,startY:0,initY:0,downTime:"",time:13,drationTime:0,isImptk:!1,curlUrl:"",offLoadeddata:function(){},config:function(t){this.supr(),this.setData(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({slideanim:"",showid:"",soundControlHeight:60,objectFit:"contain",class:"",dataRes:{},effect:3,closebtnshow:0,taptipshow:0,showBottomBarTime:0,showVideo:!1,time:13,controlValueHeight:0,mutedImg:!0,curlLink:""},t)),this.$watch("showVideo",(function(t,e){var n;t?(2<=this.video.readyState&&this.play(),this.setData({time:this.time}),window.clearInterval(this.drationTimeId),(n=this).drationTime=0,this.drationTimeId=window.setInterval((function(){n.drationTime=n.drationTime+1}),1e3),this.loadVideo(),this.query()):(0!==this.data.time&&this.onLog(this.data.dataRes.vexittk),window.clearInterval(this.timeId),"[object Function]"===Object.prototype.toString.call(this.data.onClose)&&"[object Undefined]"!==Object.prototype.toString.call(e)&&this.data.onClose(0===this.data.time))})),this.onControlMouseMove=this._onControlMouseMove.bind(this),this.onControlMouseUp=this._onControlMouseUp.bind(this)},onCloseVideo:function(t){t.preventDefault(),t.stopPropagation(),this.setData({showVideo:!1}),this.closeVolume()},init:function(){this.supr(),gt.push({closeVolume:this.closeVolume.bind(this)}),this.initVideo(),this.offVideoPlayEnd=this.utils.domOn(this.video,"end",this.videoPlayEnd.bind(this)),this.offVideoPlayStart=this.utils.domOn(this.video,"play",this.videoPlayStart.bind(this))},destroy:function(){this.supr(),this.closeVolume(),this.offLoadeddata(),this.offVideoPlayEnd(),this.offVideoPlayStart(),clearTimeout(this.timing)},videoLoadedData:function(){2<=this.video.readyState&&this.play()},videoPlayEnd:function(){clearTimeout(this.timing)},videoPlayStart:function(){clearTimeout(this.timing);var t=this;this.timing=setTimeout((function(){t.setData({slideanim:"c-envideo-slideup"})}),1e3*t.data.showBottomBarTime)},applyEndEffect:function(){var t=this;t.setData({slideanim:""}),setTimeout((function(){t.setData({slideanim:"c-envideo-slideup-end"})}),0),setTimeout((function(){t.setData({slideanim:"c-envideo-slideup-end-2"})}),800)},applyCloseBtnEffect:function(){this.setData({closebtnshow:1})},onShow:function(){this.offLoadeddata(),2<=this.video.readyState?this.play():this.offLoadeddata=this.utils.domOn(this.video,"loadeddata",this.videoLoadedData.bind(this))},onHide:function(){this.video.pause&&this.video.pause()},loadVideo:function(){this.video.load()},initVideo:function(){this.video=this.$refs.video,this.video.muted=!0},query:function(){var t=this,e=this.data.time;this.isImptk=!1,M.jsonp("https://show-g.mediav.com/s",{of:4,type:1,scheme:"https",newf:1,showid:this.data.showid,reqtimes:1,impct:1,refurl:document.referrer},(function(n,i){var r,o,s;n&&n.ads&&0<n.ads.length?(o=(r=n.ads[0]||{}).duration,s=r.rwddur,t.setData({dataRes:r,time:o,curlLink:r.curl}),"[object Function]"===Object.prototype.toString.call(t.data.getVideoTime)&&t.data.getVideoTime(o,s),t.time=!s||o<s?o:s,t.curlUrl=r.curl):(t.setData({curlLink:"https://dev.tg.wan.360.cn/?channel=521180655&placeid=&gkey=tkzj",dataRes:{img:"https://p437.ssl.qhimgs4.com/t010e192787804527cf.png",title:"热血战歌",video:"https://live-s3m.mediav.com/nativevideo/R0GlGapkveziSaCx.mp4",curl:"https://dev.tg.wan.360.cn/?channel=521180655&placeid=&gkey=tkzj",imptk:["https://max-l.mediav.com/rtb?type=2&v=CGQSEDE0NzZhODkzOGY3NzQ2ZWQYwaKQASDM4ksoAUADSMvJAWIXMTc4ODMxMDIxMzIzODE2MDMwNjAwMjCIAQSaARAxNDc2YTg5MzhmNzc0YWVkogEQMTQ3NmE4OTM4Zjc3NDZlZA&k=ZW7ojAAAAAA=&ver=1&exp=EQBDEgBDNQBDBQBECgBEAgJEFgJEOAJERQJESQJE&w=AAAAAF8L1c4AAAAAAAxjiILpRYOodJpYahSkxg&i=MGF1F8gy_9t1","https://ssxd.mediav.com/s?type=1&r=20&tid=NDU3M2MyYzc0MmEzZTZmZmE2Y2IzZjgzMTY3MGNjYmY&finfo=DAABCAABAABF3wgAAgAAAAIEAAM/klD3sCQhuwAIAAIAAAADCgADcKZpUuN235EIAAQAAAAABgAKAAAKAA8AAAAACqlW8AA&mv_ref=localhost&enup=CAABdOu62ggAAtq663QA&mvid=MTc4ODMxMDIxMzIzODE2MDMwNjAwMjA&bid=1476a8938f7746ed&ugi=FZjFlwEVjL54TBUCFbIEFYQMFZQMABW06qLzARaECBXIARaAvrTyypLVBRwWy/z7xryNkopoFQAAFboFFYiFj5gJAA&uai=FYLFoAIlAhUCFpbDpqLIyKum4QEV8g4lu6am0QElABUCFAgcFv3H2+SU8bG2TBUAAAA&ubi=FZCnLxXW/JwDFb7T7BoV9MbQXhUGFRAWhJvTwRQWlsPQ8NvUtKbhATQCFoBqJQYVu6b0oggV/gQVAhWWkwMmzcOI07ihh67dARUARQIA&price=AAAAAF8L1c4AAAAAAAxjZ2Nw6MjJIpUnvKJgWw=="],clktk:["https://max-l.mediav.com/rtb?type=3&v=CGQSEDE0NzZhODkzOGY3NzQ2ZWQYwaKQASDM4ksoAUADSMvJAWIXMTc4ODMxMDIxMzIzODE2MDMwNjAwMjBwBIoBEDE0NzZhODkzOGY3NzRhZWSSARAxNDc2YTg5MzhmNzc0NmVk&k=nuvWnAAAAAA=&ver=1&exp=EQBDEgBDNQBDBQBECgBEAgJEFgJEOAJERQJESQJE&i=MGF1F8gy_9t1&x=__OFFSET_X__&y=__OFFSET_Y__&st=__EVENT_TIME_START__&et=__EVENT_TIME_END__&adw=__ADSPACE_W__&adh=__ADSPACE_H__&tc=&turl="],vexittk:[],vstarttk:["https://xdssp.mediav.com/s?type=24&r=20&ugi=FZjFlwEVjL54TBXWChUAFQAVAAAV5L6OjgQWBBXIARaAh5ftsd/VBRwW8+vf+5G/7ZXCARUAABW4BRXIntnYBAA&uai=FYLFoAIlAhUCFq6/mZj0xt2MLBXyDiX90svVAyUAFQIUCBwWpaez+aa3tMqwARUAAAA&ubi=FZCnLxXW/JwDFb7T7BoV9MbQXhUGFRAWhJvTwRQWrr+u//2M4owsNAIWgKiAgAElBhXj+ZXkCBX+BBUCFZaTAybNw4jTuKGHrt0BFQBFAgA&mv_ref=hao.360.com&enup=CAABCkgiCAgAAggiSAoA&mvid=ODczMjMwNzY3NTUzNzE0MzAwNjAwMjA&bid=147e3f83cd2edeac&uvdi=HBUAFQ4VkqIPVA4AdfGZzPwFAA&vai=1000&vps=__VIDEO_TIME__&vtps=__VIDEO_DURATION__&adst=__ADSIZE_TYPE__&cpx=__OFFSET_X__&cpy=__OFFSET_Y__&cs=__EVENT_TIME_START__&ce=__EVENT_TIME_END__&adsw=__ADSPACE_W__&adsh=__ADSPACE_H__"]}}),"[object Function]"===Object.prototype.toString.call(t.data.getVideoTime)&&t.data.getVideoTime(e,e),t.curlUrl="https://dev.tg.wan.360.cn/?channel=521180655&placeid=&gkey=tkzj",t.time=e),t.onLog(t.data.dataRes.vstarttk),t.startCountdown(),t.data.showVideo&&t.loadVideo()}),{timeout:5e3,jsonp:"jsonp"})},onAClick:function(t,e){t&&e.preventDefault()},onMouseup:function(t,e){var n,i,r;t||(i=0,(n=this.utils.geomPosition(e.origin,!1)).h<31&&(i=125),this.offsetX=Math.round(e.event.pageX-n.x),this.offsetY=Math.round(e.event.pageY-n.y+i),this.upTime=(new Date).valueOf(),r=this.curlUrl.replace("__EVENT_TIME_START__",this.downTime).replace("__EVENT_TIME_END__",this.upTime).replace("__ADSPACE_H__",155).replace("__ADSPACE_W__",368).replace("__OFFSET_X__",this.offsetX).replace("__OFFSET_Y__",this.offsetY),this.setData({curlLink:r}),this.isImptk||this.onLog(this.data.dataRes.imptk),this.isImptk=!0,this.onLog(this.data.dataRes.voptk,2),this.onLog(this.data.dataRes.clktk))},setDownTime:function(t){var e=this;1==t&&1!=this.data.taptipshow&&""!=this.data.slideanim&&(this.setData({taptipshow:1}),setTimeout((function(){e.setData({taptipshow:0})}),1e3)),t||(this.downTime=(new Date).valueOf())},startCountdown:function(){window.clearInterval(this.timeId),this.setData({time:this.time});var t=this;this.timeId=window.setInterval((function(){var e=t.data.time;if(2==e&&t.applyCloseBtnEffect(),e<=0)return window.clearInterval(t.timeId),t.isImptk||t.onLog(t.data.dataRes.imptk),t.isImptk=!0,t.onLog(t.data.dataRes.vcomptk),void t.applyEndEffect();t.setData({time:e-1})}),1e3)},utils:{domOn:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},geomPosition:function(t,e){var n,i,r={x:(r=t.getBoundingClientRect()).left,y:r.top,sx:r.left,sy:r.top,w:r.right-r.left,h:r.bottom-r.top,bottom:r.bottom,right:r.right};return e&&(n=window.pageXOffset,i=window.pageYOffset,r.sx+=n,r.sy+=i),r}},onLog:function(t,e){var n;"[object Array]"===Object.prototype.toString.call(t)&&(n=this,t.forEach((function(t){t&&n.sendImgLog(t,e)})))},sendImgLog:function(t,e){t&&(t=t.replace("__EVENT_TIME_START__",this.downTime||"__EVENT_TIME_START__").replace("__EVENT_TIME_END__",this.upTime||"__EVENT_TIME_END__").replace("__ADSPACE_H__",155).replace("__ADSPACE_W__",368).replace("__OFFSET_X__",this.offsetX).replace("__OFFSET_Y__",this.offsetY).replace("__ADSIZE_TYPE__",0).replace("__VIDEO_DURATION__",this.drationTime).replace("__VIDEO_TIME__",this.drationTime%this.time).replace("__VIDEO_ACTION_ID__",e||"__VIDEO_ACTION_ID__"),(new Image).src=t+"&__monitor_t="+Math.random()+(new Date).getTime())},onVolumeMouseLeave:function(){this.onControlMouseUp()},onControlStopEvent:function(t){t.preventDefault(),t.stopPropagation()},onControlMouseDown:function(t){var e=this.utils.geomPosition(t.origin,!0);this.onControlMouseMove("",e.bottom-t.event.clientY-5),this.startY=t.pageY,this.initY=this.data.controlValueHeight,document.addEventListener("mousemove",this.onControlMouseMove),document.addEventListener("mouseup",this.onControlMouseUp,!0)},_onControlMouseUp:function(){document.removeEventListener("mousemove",this.onControlMouseMove),document.removeEventListener("mouseup",this.onControlMouseUp,!0)},_onControlMouseMove:function(t,e){var n=this.initY+this.startY-t.pageY;if("number"==typeof e&&(n=e),n<0&&(n=0),0!=n||this.video.muted||(this.video.muted=!0),0<n&&this.video.muted){for(var i=0,r=gt.length;i<r;i++)gt[i].closeVolume();this.video.muted=!1}n>this.data.soundControlHeight&&(n=this.data.soundControlHeight),this.video.volume=n/this.data.soundControlHeight,this.setData({controlValueHeight:n,mutedImg:this.video.muted})},setVolume:function(){if(this.video.muted)return this.onLog(this.data.dataRes.voptk,5),void this.startVolume();this.onLog(this.data.dataRes.voptk,6),this.closeVolume()},startVolume:function(){for(var t=0,e=gt.length;t<e;t++)gt[t].closeVolume();this.setData({controlValueHeight:this.data.soundControlHeight,mutedImg:!1}),this.video.muted=!1,this.video.volume=1},closeVolume:function(){this.video.muted||(this.setData({controlValueHeight:0,mutedImg:!0}),this.video.muted=!0,this.video.volume=0)},play:function(){this.video.play()}}},bt={carousel_item:it,list_item:ut,tab:ht},_t=n(19);_t.config({BEGIN:"{{",END:"}}"});var wt=_t.extend({setData:function(t){for(var e in t)this.data[e]=t[e];this.$update()}});for(var xt in Y)wt.filter(xt,Y[xt]);wt.directive(K);var Ot=wt.extend({config:function(){},onShow:function(){},onHide:function(){},activeclk:function(t){this.$root.cube.clickaction=t}});for(var xt in yt)Ot.extend(yt[xt]);for(var xt in bt)wt.extend(bt[xt]);function Et(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return At(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function At(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var Tt={};function jt(){}function kt(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function St(t,e,n,i,r,o){return kt((s=kt(kt(e,t),kt(i,o)))<<(a=r)|s>>>32-a,n);var s,a}function Ct(t,e,n,i,r,o,s){return St(e&n|~e&i,t,e,r,o,s)}function Dt(t,e,n,i,r,o,s){return St(e&i|n&~i,t,e,r,o,s)}function Pt(t,e,n,i,r,o,s){return St(e^n^i,t,e,r,o,s)}function It(t,e,n,i,r,o,s){return St(n^(e|~i),t,e,r,o,s)}function Nt(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n,i,r,o,s=1732584193,a=-271733879,c=-1732584194,u=271733878,l=0;l<t.length;l+=16)s=Ct(n=s,i=a,r=c,o=u,t[l],7,-680876936),u=Ct(u,s,a,c,t[l+1],12,-389564586),c=Ct(c,u,s,a,t[l+2],17,606105819),a=Ct(a,c,u,s,t[l+3],22,-1044525330),s=Ct(s,a,c,u,t[l+4],7,-176418897),u=Ct(u,s,a,c,t[l+5],12,1200080426),c=Ct(c,u,s,a,t[l+6],17,-1473231341),a=Ct(a,c,u,s,t[l+7],22,-45705983),s=Ct(s,a,c,u,t[l+8],7,1770035416),u=Ct(u,s,a,c,t[l+9],12,-1958414417),c=Ct(c,u,s,a,t[l+10],17,-42063),a=Ct(a,c,u,s,t[l+11],22,-1990404162),s=Ct(s,a,c,u,t[l+12],7,1804603682),u=Ct(u,s,a,c,t[l+13],12,-40341101),c=Ct(c,u,s,a,t[l+14],17,-1502002290),s=Dt(s,a=Ct(a,c,u,s,t[l+15],22,1236535329),c,u,t[l+1],5,-165796510),u=Dt(u,s,a,c,t[l+6],9,-1069501632),c=Dt(c,u,s,a,t[l+11],14,643717713),a=Dt(a,c,u,s,t[l],20,-373897302),s=Dt(s,a,c,u,t[l+5],5,-701558691),u=Dt(u,s,a,c,t[l+10],9,38016083),c=Dt(c,u,s,a,t[l+15],14,-660478335),a=Dt(a,c,u,s,t[l+4],20,-405537848),s=Dt(s,a,c,u,t[l+9],5,568446438),u=Dt(u,s,a,c,t[l+14],9,-1019803690),c=Dt(c,u,s,a,t[l+3],14,-187363961),a=Dt(a,c,u,s,t[l+8],20,1163531501),s=Dt(s,a,c,u,t[l+13],5,-1444681467),u=Dt(u,s,a,c,t[l+2],9,-51403784),c=Dt(c,u,s,a,t[l+7],14,1735328473),s=Pt(s,a=Dt(a,c,u,s,t[l+12],20,-1926607734),c,u,t[l+5],4,-378558),u=Pt(u,s,a,c,t[l+8],11,-2022574463),c=Pt(c,u,s,a,t[l+11],16,1839030562),a=Pt(a,c,u,s,t[l+14],23,-35309556),s=Pt(s,a,c,u,t[l+1],4,-1530992060),u=Pt(u,s,a,c,t[l+4],11,1272893353),c=Pt(c,u,s,a,t[l+7],16,-155497632),a=Pt(a,c,u,s,t[l+10],23,-1094730640),s=Pt(s,a,c,u,t[l+13],4,681279174),u=Pt(u,s,a,c,t[l],11,-358537222),c=Pt(c,u,s,a,t[l+3],16,-722521979),a=Pt(a,c,u,s,t[l+6],23,76029189),s=Pt(s,a,c,u,t[l+9],4,-640364487),u=Pt(u,s,a,c,t[l+12],11,-421815835),c=Pt(c,u,s,a,t[l+15],16,530742520),s=It(s,a=Pt(a,c,u,s,t[l+2],23,-995338651),c,u,t[l],6,-198630844),u=It(u,s,a,c,t[l+7],10,1126891415),c=It(c,u,s,a,t[l+14],15,-1416354905),a=It(a,c,u,s,t[l+5],21,-57434055),s=It(s,a,c,u,t[l+12],6,1700485571),u=It(u,s,a,c,t[l+3],10,-1894986606),c=It(c,u,s,a,t[l+10],15,-1051523),a=It(a,c,u,s,t[l+1],21,-2054922799),s=It(s,a,c,u,t[l+8],6,1873313359),u=It(u,s,a,c,t[l+15],10,-30611744),c=It(c,u,s,a,t[l+6],15,-1560198380),a=It(a,c,u,s,t[l+13],21,1309151649),s=It(s,a,c,u,t[l+4],6,-145523070),u=It(u,s,a,c,t[l+11],10,-1120210379),c=It(c,u,s,a,t[l+2],15,718787259),a=It(a,c,u,s,t[l+9],21,-343485551),s=kt(s,n),a=kt(a,i),c=kt(c,r),u=kt(u,o);return[s,a,c,u]}function $t(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}function Mt(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function Rt(t){for(var e,n="0123456789abcdef",i="",r=0;r<t.length;r+=1)e=t.charCodeAt(r),i+=n.charAt(e>>>4&15)+n.charAt(15&e);return i}function Ft(t){return unescape(encodeURIComponent(t))}function Bt(t){return $t(Nt(Mt(e=Ft(t)),8*e.length));var e}function Lt(t,e){return function(t,e){var n,i,r=Mt(t),o=[],s=[];for(o[15]=s[15]=void 0,16<r.length&&(r=Nt(r,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^r[n],s[n]=1549556828^r[n];return i=Nt(o.concat(Mt(e)),512+8*e.length),$t(Nt(s.concat(i),640))}(Ft(t),Ft(e))}jt.getCubeById=function(t,e){function n(e){var n,i=Et(jt[e]);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(t===r.id)return r.getCubeById(t)}}catch(e){i.e(e)}finally{i.f()}return null}if(e)return n(e);for(var i in Tt){var r=n(i);if(r)return r}return null},jt.getCubeEl=function(t,e){function n(e){var n,i=Et(jt[e]);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(t===r.id)return r}}catch(e){i.e(e)}finally{i.f()}}if(e)return n(e);for(var i in Tt){var r=n(i);if(r)return r}return null},jt.cubeMods={},jt.sourceCodes={};var Ut=function(t,e,n){return e?n?Lt(e,t):Rt(Lt(e,t)):n?Bt(t):Rt(Bt(t))};function Ht(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function Vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Jt={},Gt={create:function(t,e,n,i){void 0===n.name&&console.error("CreateComponent need name!");var r=n.name,o=e+"-"+r,s=new RegExp("(<)"+r+"(\\s[\\s\\S]*?\\/?>|\\/?>)|(<\\/)"+r+"( *>)","g");t.template=t.template.replace(s,"$1$3"+o+"$2$4"),n.name=o,wt.extend({name:n.name,template:n.template,config:function(t){this.data=Vt(Vt({},n.data),t);var r=Gt.createContext(i,n);r.data=this.data,qt.mix(this,r);var o=Gt.createLifecycles(e,n,r);!function(t,e){Jt[t]||(Jt[t]=[]),Jt[t].push(e)}(e,o),this.context=r,o.onLoadBind()},init:function(){rn.initRefs(this.context,this),rn.initSetData(this.context,this)}})},createContext:qt,createLifecycles:function(t,e,n){for(var i={},r=["onLoad","onReady"],o=0;o<r.length;o++)!function(){var t=r[o];i[t+"Bind"]=function(){e[t]&&e[t].call(n)}}();return i},exec:function(t,e){var n=Jt[t];if(n)for(var i=0;i<n.length;i++){var r=n[i][e+"Bind"];r&&r()}}};function qt(t,e){function n(){qt.mix(this,e,!0)}return n.prototype=t,new n}qt.mix=function(t,e,n){for(var i in e)!function(i){if(e.hasOwnProperty(i))switch(i){case"name":case"template":case"data":case"onLoad":case"onReady":case"config":case"init":case"destroy":case"modifyBodyComponent":break;default:"function"==typeof e[i]&&n?t[i]=function(){return e[i].apply(t,arguments)}:t[i]=e[i]}}(i)};var Yt=Gt,zt={};function Qt(t,e,n){return n.unshift(e),Qt[t].apply(void 0,n)}function Xt(t){if(zt[t])for(var e=zt[t].timeouts||[];e.length;)Qt.clearTimeout(t,e[0])}function Wt(t){if(zt[t])for(var e=zt[t].intervals||[],n=0;n<e.length;n++)for(var i in e[n])clearInterval(e[n][i].id)}Qt.setTimeout=function(t,e,n){if(n=parseInt(n,10)||0,"function"==typeof e){zt[t]=zt[t]||{},zt[t].timeouts=zt[t].timeouts||[];var i=Array.prototype.slice.call(arguments,3),r=setTimeout((function(){Qt.clearTimeout(t,r);try{e.apply(void 0,i)}catch(e){qboot.events.fire(t+":error",e)}}),n);return zt[t].timeouts.push(r),r}},Qt.setInterval=function(t,e,n){if(n=(n=parseInt(n,10)||10)<10?10:n,"function"==typeof e){zt[t]=zt[t]||{},zt[t].intervals=zt[t].intervals||[];var i=Array.prototype.slice.call(arguments,3),r=setInterval((function(){try{e.apply(void 0,i)}catch(e){Qt.clearInterval(t,r),qboot.events.fire(t+":error",e)}}),n),o={};return o[r]={id:r,args:[e,n].concat(i)},zt[t].intervals.push(o),r}},Qt.clearTimeout=function(t,e){var n,i;isNaN(e)||!zt[t]||(n=zt[t].timeouts||[]).length&&-1!==(i=n.indexOf(e))&&(clearTimeout(e),n.splice(i,1))},Qt.clearInterval=function(t,e){if(!isNaN(e)&&zt[t]&&zt[t].intervals){var n=zt[t].intervals,i=function(t,e){for(var n=-1,i=0;i<t.length;i++)if(void 0!==t[i][e]){n=i;break}return n}(n,e);if(-1!==i)for(var r in n[i])clearInterval(n[i][r].id),n.splice(i,1)}},Qt.stop=function(t){zt[t]&&(zt[t].stop=!0,Xt(t),Wt(t))},Qt.restart=function(t){zt[t]&&!0===zt[t].stop&&(zt[t].stop=!1,function(t){if(zt[t])for(var e=zt[t].intervals||[],n=0;n<e.length;n++)for(var i in e[n])!function(i){var r=e[n][i],o=r.args[0],s=r.args[1],a=r.args.slice(2);r.id=setInterval((function(){try{o.apply(void 0,a)}catch(e){Qt.clearInterval(t,i),qboot.events.fire(t+":error",e)}}),s)}(i)}(t))},Qt.clear=function(t){var e;zt[t]&&(Xt(t),zt[e=t]&&(Wt(e),zt[e].intervals=[]),zt[t]=null,delete zt[t])};var Zt=Qt;function Kt(){this.processingCount=0,this.disabledCount=0,this.requestId=0,this.waitingQueue=[],this.status="on",this.handlers={}}Kt.MAX_REQUEST_LIMIT=2,Kt.prototype.send=function(t){this.processingCount++,this.processingCount>Kt.MAX_REQUEST_LIMIT?this.waitingQueue.push(t):this._send(t)},Kt.prototype.setSender=function(t){this.sender=t},Kt.prototype.setErrorHandler=function(t){this.errorHandler=t},Kt.prototype._send=function(t){var e=t.api,n=t.data,i=t.success,r=t.fail,o=t.complete,s=t.auth,a=this;"function"==typeof this.sender&&e&&this.sender(e,n,(function(t,e){try{a.processingCount--,e?i&&i(e):(r&&r(t),a.errorHandler&&a.errorHandler({errno:1504,message:"api timeout"})),o&&o(t,e),a.next()}catch(t){a.next(),a.errorHandler&&a.errorHandler(t)}}),s)},Kt.prototype.next=function(){var t;"off"!=this.status?this.waitingQueue.length&&(t=this.waitingQueue.shift(),this._send(t)):this.disabledCount++},Kt.prototype.disable=function(){this.status="off"},Kt.prototype.enable=function(){for(this.status="on";this.disabledCount;)this.disabledCount--,this.next()};var te=Kt,ee={DEBUG:!1};function ne(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return ie(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function ie(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function se(t,e,n){return e&&oe(t.prototype,e),n&&oe(t,n),t}function ae(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=e.length,i="";t--;)i+=e[Math.floor(Math.random()*n)];return i}function ce(t,e,n){return ce.instances=ce.instances||{},ce.instances[t]||(ce.instances[t]=new e(n))}var ue=function(){function t(){re(this,t),this.count=0}return se(t,[{key:"get",value:function(){return this.count}},{key:"set",value:function(t){this.count=t}},{key:"add",value:function(){return this.count++,this}}]),t}(),le=function(){function t(e){re(this,t),this.state=e.init,this.transitions=e.transitions}return se(t,[{key:"setState",value:function(t){this.lastState=this.state,this.state=t}},{key:"getState",value:function(){return this.state}},{key:"getTransition",value:function(){var t,e=ne(this.transitions);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.from===this.lastState&&n.to===this.state)return n.name}}catch(t){e.e(t)}finally{e.f()}return null}},{key:"transit",value:function(t){var e,n=ne(this.transitions);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(i.name===t&&i.from===this.state)return this.setState(i.to),!0}}catch(t){n.e(t)}finally{n.f()}return!1}}]),t}();function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function de(t,e){this.targetWin=t,this.origin=e||"*",this.handlers={},this.listened=!1,this.setEncodeDecoder(1)}de.type=["send","ask","answer"],de.typeCode={};for(var he=0;he<de.type.length;he++)de.typeCode[de.type[he]]=he;de.prototype.on=function(t,e){var n=this.handlers;n[t]=n[t]||[],n[t].push(e)},de.prototype.fire=function(t,e,n){var i=this.handlers[t];if(i)for(var r=0;r<i.length;r++)i[r](e,n)},de.prototype.un=function(t){this.handlers[t]&&(this.handlers[t]=null,delete this.handlers[t])},de.encoder1=function(t,e,n,i){var r={"&":n,"#":t,"%":e};return"string"==typeof i&&(r["@"]=i),r},de.encoder2=function(t,e,n,i){var r=de.encoder1(t,e,n,i);return r.v="2",JSON.stringify(r)},de.decoder1=function(t){return{messageId:t["&"]||"",typeId:t["%"]||de.typeCode.send,action:t["@"]||"",body:t["#"]||t}},de.decoder2=function(t){var e=de.decoder1(t);return e.version=t.v,e},de.prototype.setEncodeDecoder=function(t){this.encodeData=de["encoder"+t],this.decodeData=de["decoder"+t]},de.prototype.send=function(t){this.targetWin.postMessage(t,this.origin)},de.prototype.ask=function(t,e,n){var i=ae(6),r=this.encodeData(e,de.typeCode.ask,i,t),o=this;n&&"function"==typeof n&&(this.listen(),this.on("answer:"+i,(function(t){n(t),o.un("answer:"+i)}))),this.targetWin.postMessage(r,this.origin)},de.prototype.answer=function(t,e){var n=this.encodeData(e,de.typeCode.answer,t);this.targetWin.postMessage(n,this.origin)},de.addEvent=function(t,e){window.addEventListener?window.addEventListener(t,e,!1):window.attachEvent&&window.attachEvent("on"+t,e)},de.dataPaser=function(t){var e="1";return("object"===fe(t)&&t.v||"string"==typeof t&&"object"===fe(t=JSON.parse(t))&&t.v)&&(e=t.v),{version:e,data:t}},de.prototype.listen=function(){var t;return this.listened||(t=this,de.addEvent("message",(function(e){if("*"===t.origin||e.origin===t.origin){var n=de.dataPaser(e.data);t.setEncodeDecoder(n.version);var i=t.decodeData(n.data),r=!1;switch(i.typeId){case de.typeCode.answer:t.fire("answer:"+i.messageId,i.body);break;case de.typeCode.ask:t.fire(i.action,i.body,(function(e){r||(t.answer(i.messageId,e),r=!0)}));break;case de.typeCode.send:t.fire("message",i.body)}}})),this.listened=!0),this};var pe=de,ve={},me={};function ge(t){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ye(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function be(t,e,n,i){i&&i.mid&&(e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ye(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({mid:S.mid,huid:S.huid,guid:S.guid},e));var r={api:t,data:e||{}};me.ask("sendApi",r,(function(t){n(t.err,t.res)}))}function _e(t,e,n){var i={id:e};(n=n||{}).key&&(i.key=n.key),n.data&&(i.data=n.data),me.ask(t,i,(function(t){try{var i=t.err,r=t.res;i?n.fail&&n.fail(i):n.success&&n.success(r),n.complete&&n.complete(i,r)}catch(t){M.events.fire(e+":error",t)}}))}var we,xe,Oe=[],Ee=[],Ae=!1;function Te(t){for(xe=null;0<Ee.length;)Ee.shift()(t)}function je(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?je(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}window.get360mvDormerAd=function(t){null!==xe&&(clearTimeout(xe),function(t){for(;0<Oe.length;)Oe.shift()(t)}(we=t))};var Se=["https://show-g.mediav.com/s","https://show-3.mediav.com/s"];function Ce(t,e,n){var i;S.noCubeAd?n(null,[]):(i={jsonp:"jsonp"},e.timeout&&(i.timeout=e.timeout,delete e.timeout),M.jsonp(t,e,(function(t,e){n(e,t)}),i))}function De(t){var e=this;this.cubeRequest=new te,this.cubeRequest.setSender(Ce),this.cubeRequest.setErrorHandler((function(t){M.events.fire(e.cubeId+":error",t)})),this.defaultOptions={of:4,newf:1,type:1,refurl:encodeURIComponent(document.referrer),scheme:"https",tmprtp:this.cubeInfo&&this.cubeInfo.tmprtp||"",mid:S.mid,uid:this.getUID()};var n=S.webpSupport;n&&n.lossless&&n.animation&&(this.defaultOptions.imgfmt=1)}De.prototype.request=function(t){var e={api:Se[t.type-1]};t.timeout&&(t.data.timeout=t.timeout),e.data=ke(ke({},this.defaultOptions),t.data),e.success=t.success,e.fail=t.fail,e.complete=t.complete,this.cubeRequest.send(e)};var Pe,Ie,Ne,$e,Me,Re=De;function Fe(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function Be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fe(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Le(t,e,n){var i=2<arguments.length&&void 0!==n?n:"",r=e.id,o=e.log_id,s=e.pos,a=void 0===s?-1:s,c=e.source,u=void 0===c?"":c,l=e.psource,f=void 0===l?"":l,d=e.ext,h=void 0===d?"":d,p=e.is_bp,v=e.cube_content,m=void 0===v?"":v,g=e.rtag,y=void 0===g?"":g,b=e.content_id,_=void 0===b?"":b,w=e.tmprtp,x=void 0===w?"":w,O=e.where,E=e.rc_type,A=void 0===E?0:E;return"show"===t?{cube_id:r,pos:a+1,ext:h,source:u,psource:f,cube_content:m,is_bp:p,rtag:y,content_id:_,tmprtp:x,rc_type:A}:{cube_id:r,act:"click",logid:o,pos:a+1,source:u,psource:f,t:+new Date,ext:h,func:t,is_bp:p,cube_content:m,c:"innerclk"===t?"":i,rtag:y,content_id:_,tmprtp:x,where:O,rc_type:A}}var Ue=($e=Ne="",Me=!1,{init:function(t){var e,n,i,r,o,s,a,c,u,l,f,d,h,p;Me||(e=S.guid,n=S.huid,i=S.mid,r=S.appid,o=S.hsid,a=void 0===(s=S.project)?"":s,u=void 0===(c=S.u)?"":c,l=t.logshowUrl,f=t.logclickUrl,h=(d=function(t){for(var e=["mid","guid","huid"],n=[1,3,2],i=0;i<e.length;i++)if(t[e[i]])return{uid:t[e[i]],uid_type:n[i]};return{uid:"",uid_type:0}}({guid:e,huid:n,mid:i})).uid,p=d.uid_type,Pe={uid:h,uid_type:p,guid:e,hsid:o,sqid:"",sign:r,city:A(),p:a,u:u,version:""},Ne=l,$e=f,Me=!0)},cubeDot:(Ie=[],function(t,e,n){var i=S.monitor,r=i.show,o=i.click;if("[object Array]"===Object.prototype.toString.call(e)){if(0===e.length)return;e.forEach((function(t){Ie.push(t)})),setTimeout((function(){if(Ie.length){var e,i=[];Ie.forEach((function(e){i.push(Le(t,e,n))})),e={act:"show",t:+new Date,contents:JSON.stringify(i)};var o={};for(var s in Pe)Pe.hasOwnProperty(s)&&(o[s]=Pe[s]);o.where=Ie[0].where,o=M.encodeURIJson(Be(Be({},o),e)),r&&v("".concat(Ne).concat(o)),Ie=[]}}))}else{var s={};for(var a in Pe)Pe.hasOwnProperty(a)&&(s[a]=Pe[a]);var c=Be(Be({},s),Le(t,e,n));s=M.encodeURIJson(c);o&&v("".concat($e).concat(s.replace("func=adclk","func=realclk")));var u=jt.getCubeEl(e.id,e.where);u&&u.fire("click",{params:c})}})}),He=n(10),Ve=n.n(He),Je="_CUBE_A_D_CLK_";function Ge(){this.container=document.getElementById("cube-c".concat(this.cubeInfo.pkg_id)),this.mouseDownTime="",this.mouseUpTime="",this.mouseOffset={}}Ge.prototype.bindEvents=function(){var t=this;Ve()(this.container,".".concat(Je),"mousedown",(function(e){t.mousedown(e,e.delegateTarget)})),Ve()(this.container,".".concat(Je),"mouseup",(function(e){t.mouseup(e,e.delegateTarget)})),Ve()(this.container,".".concat(Je),"click",(function(e){return e.preventDefault(),!(t.cubeInfo.clickaction="adclk")})),window.addEventListener("scroll",this.throttle(this.realExposure)),window.addEventListener("resize",this.throttle(this.realExposure))},Ge.prototype.exposure=function(){var t=this;setTimeout((function(e){t.realExposure()}),0)},Ge.prototype.realExposure=function(){var t,e=this,n=document.querySelectorAll("#cube-c".concat(this.cubeInfo.pkg_id," .").concat(Je)),i=Array.prototype.slice.call(n),r=document.documentElement.clientHeight,o=[],s=[];i.forEach((function(n,i){var a,c,u;((a=n).offsetWidth||a.offsetHeight||a.getClientRects().length)&&((c=n.getBoundingClientRect()).bottom<=0||c.top>=r||(n.getAttribute("data-imptk")&&(e.sendLog(n.getAttribute("data-imptk").split(",")),n.removeAttribute("data-imptk")),n.getAttribute("data-imparg")&&(o.push(n.getAttribute("data-imparg")),n.removeAttribute("data-imparg"),t=n.getAttribute("data-impurl")),(u=n.getAttribute("data-adstk"))&&-1===s.indexOf(u)&&(s.push(u),n.removeAttribute("data-adstk"))))})),0<o.length&&this.sendLog([t+o.join(".")]),s.forEach((function(t){e.sendLog(t.split(","))}))},Ge.prototype.throttle=function(t,e){var n,i=e||200,r=this;return function(e){null==n&&(n=setTimeout((function(){clearTimeout(n),n=null,t.apply(r,[e])}),i))}},Ge.prototype.getOffset=function(t,e,n){var i=n.getBoundingClientRect(),r=t-i.left,o=e-i.top;this.mouseOffset={x:Math.floor(r),y:Math.floor(o),w:Math.floor(i.width),h:Math.floor(i.height)}},Ge.prototype.mousedown=function(t,e){this.getOffset(t.clientX,t.clientY,e);var n=(n=/msie [7|8]/i.test(navigator.userAgent))?1:0;parseInt(t.button,10)===n&&(this.mouseDownTime=(new Date).getTime())},Ge.prototype.mouseup=function(t,e){try{if(2==t.which||3==t.which)return!1}catch(t){}this.mouseUpTime=(new Date).getTime();var n,i=e.getAttribute("href");i=(i=i||e.getAttribute("data-curl")).replace("__EVENT_TIME_START__",this.mouseDownTime).replace("__EVENT_TIME_END__",this.mouseUpTime).replace("__OFFSET_X__",parseInt(this.mouseOffset.x)).replace("__OFFSET_Y__",parseInt(this.mouseOffset.y)).replace("__ADSPACE_W__",this.mouseOffset.w).replace("__ADSPACE_H__",this.mouseOffset.h),window.open(i,"mediav"+this.mouseUpTime),e.getAttribute("data-clk")&&(n=e.getAttribute("data-clk").replace(/__EVENT_TIME_START__/g,this.mouseDownTime).replace(/__EVENT_TIME_END__/g,this.mouseUpTime).replace(/__OFFSET_X__/g,parseInt(this.mouseOffset.x)).replace(/__OFFSET_Y__/g,parseInt(this.mouseOffset.y)).replace(/__ADSPACE_W__/g,this.mouseOffset.w).replace(/__ADSPACE_H__/g,this.mouseOffset.h).split(","),this.sendLog(n))};var qe=Ge;function Ye(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ye(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Qe="";function Xe(t){var e=t.cubeId,n=t.cubeInfo;this.cubeId=e,this.cubeInfo=n,this.inited=!1,Re.call(this),qe.call(this,{cubeInfo:n})}function We(t){var e,n,i=1;if(t)for(i=0,n=t.length-1;0<=n;n--)i=0!=(e=266338304&(i=(i<<6&268435455)+(e=t.charCodeAt(n))+(e<<14)))?i^e>>21:i;return i}(Xe.prototype=ze(ze(ze({},Re.prototype),qe.prototype),{},{init:function(){this.bindEvents()},show:function(){this.inited||this.init(),this.inited=!0,this.exposure()},getUID:function(){return Qe=Qe||(""+We(document.referrer)+(new Date).getTime()+We(document.cookie)).substr(0,32)},get360mvDormerAd:function(t,e){var n,i;we?t(we):(t&&Oe.push(t),e&&Ee.push(e),Ae||(Ae=!0,xe=setTimeout((function(){Ae=!1,Te({message:"cubead default data timeout"})}),5e3),i=new Date,n="".concat(i.getFullYear()).concat(i.getMonth()+1).concat(i.getDate()),M.load("".concat("https://s3m.mediav.com/datashare/dormer.js","?t=").concat(n),(function(){Ae=!1,!we&&xe&&(clearTimeout(xe),Te({message:"cubead default data empty"}))}))))}})).sendPV=Xe.prototype.sendLog=function(t){t.forEach((function(t){var e;e=t,setTimeout((function(){var t="slog"+(+new Date+Math.random()),n=window[t]=new Image;n.src=e,n.onload=n.onerror=function(){window[t]=null}}),0)}))};var Ze=Xe;function Ke(t){return(Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tn(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function en(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tn(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nn(t,e){this.context={},this.init(t),this.where=e,nn.initLog(this.context)}nn.initSetData=function(t,e){t.data=e.data,t.setData=function(t){e.setData(t)}},nn.initRefs=function(t,e){t.refs=e.$refs},nn.initLog=function(t){t.log=function(t,e){var n=document.createElement("a");n.href=t,n.hostname!==location.hostname&&(e&&(t+=(/\?/.test(t)?"&":"?")+M.encodeURIJson(e)),document.createElement("img").src=t)}},nn.remove=function(t,e){void 0!==t[e]&&(t[e]=null,delete t[e])},nn.prototype=en(en({},nn.prototype),{},{init:function(t){var e=this.context;for(var n in t)!function(n){if(t.hasOwnProperty(n))switch(n){case"onLoad":case"onShow":case"onCompleteShow":case"onReady":case"onHide":case"onCollapse":case"onExpand":case"onUnload":case"onError":case"config":case"init":case"destroy":case"modifyBodyComponent":case"onFollow":case"unFollow":case"onTop":case"unTop":break;default:"function"==typeof t[n]?e[n]=function(){return t[n].apply(e,arguments)}:e[n]=t[n]}}(n)},initSetData:function(t){nn.initSetData(this.context,t)},initRefs:function(t){nn.initRefs(this.context,t)},initNetwork:function(t,e){var n=this.context,i=new te,r=(0,jt.getCubeById)(e,this.where).cube_auth||{};i.setSender(be),i.setErrorHandler((function(t){M.events.fire(e+":error",t)})),n.request=function(e){e.api=t+":"+e.api,e.auth=r,i.send(e)},this.network=i},initStorage:function(t){for(var e=this.context,n=["setStorage","getStorage","clearStorage","removeStorage","getStorageInfo"],i=0;i<n.length;i++)!function(i){e[n[i]]=function(e){_e(n[i],t,e)}}(i)},initCubeOpen:function(t){var e=this.context,n=(0,jt.getCubeById)(t,this.where),i=window.moniter;e.open=function(e,r){var o;e&&/^((https|http)?:\/\/)[^\s]+/.test(e)&&(window.open(e,"_blank",""),r&&e&&"string"==typeof r&&"string"==typeof e&&(Ue&&Ue.cubeDot("realclk",n,r),o="cube-mod-"+(n.queue_type||"recommend")+"-"+t,i&&i.sendClklog(r,e,o)))}},initSystemInfo:function(){var t={webpSupport:S.webpSupport,mp360Support:S.mp360Support,cityCode:S.cityCode,userAgent:S.userAgent,where:S.where};this.context.getSystemInfo=function(){return t}},initCubeInfo:function(t){var e=this.context,n=jt.cubeMods[t],i=(0,jt.getCubeById)(t,this.where),r=S.huid,o=S.hsid,s=S.guid;n?(n.userInfo={openId:Ut(n.id+r),unionId:Ut(n.aid+r),hsid:Ut(n.aid+o).substr(0,16),huid:r,guid:s},i&&i.cube_auth&&i.cube_auth.mid&&(n.userInfo.mid=S.mid)):n={},e.getCubeInfo=function(){return JSON.parse(JSON.stringify(n))}},initExpanded:function(t){var e=this.context,n=jt.getCubeById;e.expanded=n(t,this.where).expanded},initComponents:function(t,e,n){var i=this.context;if("object"===Ke(n))for(var r=0;r<n.length;r++)Yt.create(t,e,en({},n[r]),i);i.createComponent=function(n){Yt.create(t,e,en({},n),i)}},initClklog:function(t){var e=this.context,n=(0,jt.getCubeById)(t,this.where),i=window.moniter;n&&n.cube_auth&&n.cube_auth.clklog&&(e.clklog=function(e,r){var o;e&&r&&"string"==typeof e&&"string"==typeof r&&(Ue&&Ue.cubeDot("realclk",n,e),o="cube-mod-"+(n.queue_type||"recommend")+"-"+t,i&&i.sendClklog(e,r,o))})},initCubeAd:function(t){var e=this.context,n=(0,jt.getCubeById)(t,this.where);e.cubeAd=new Ze({cubeId:t,cubeInfo:n})},initTimers:function(t){for(var e=this.context,n=["setTimeout","setInterval","clearTimeout","clearInterval"],i=0;i<n.length;i++)!function(i){e[n[i]]=function(){var e=Array.prototype.slice.call(arguments);return Zt(n[i],t,e)}}(i)}});var rn=nn,on=[/^([\w\-]+\.)*360\.(com|cn)$/i,/^([\w\-]+\.)*dhrest\.com$/i,/^([\w\-]+\.)*so\.com$/i,/^([\w\-]+\.)*360kan\.com$/i,/^([\w\-]+\.)*yyzhuishu\.com$/i,/^([\w\-]+\.)*mediav\.com$/i,/^api\.hnquxing\.com$/i,/^([\w\-]+\.)*360kuai\.com$/i],sn=function(t){for(var e=0;e<on.length;e++)if(on[e].test(t))return!0;return!1};function an(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?an(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function un(t,e,n){this.where=n,this.contextBuilder=e,this.eventHandlers={},this.init(t,e.context),this.initOnErrorEvent()}un.errerTimeout=15e3,un.prototype=cn(cn({},un.prototype),{},{init:function(t,e){for(var n=this,i=["onLoad","onReady","onShow","onCompleteShow","onHide","onExpand","onCollapse","onUnload","onError"],r=0;r<i.length;r++)!function(){var o=i[r];n[o+"Bind"]=function(){t[o]&&t[o].apply(e,arguments)}}()},initOnErrorEvent:function(){var t=this;this.eventHandlers.onError=function(e){t.onErrorBind(e)}},afterReady:function(){},prepareOnReady:function(t,e,n){var i=this,r=this.contextBuilder,o=setTimeout((function(){M.events.fire(t.id+":error",{errno:1505,message:"iframe timeout"})}),un.errerTimeout);function s(){clearTimeout(o),i._addEvents(t),Yt.exec(t.id,"onReady"),i.onReadyBind(),i.afterReady()}r.initRefs(t.cube),r.initSetData(t.cube),this._prepareExpandState(),this._waitProxy((function(){r.initStorage(t.id),i._prepareNetwork(e,n,t,s)}))},_waitProxy:function(t){ve.isOk()?t():ve.on("proxyOk",(function(){t()}))},analysisHost:function(t){var e=document.createElement("a");return e.href=t,{host:e.host,hostname:e.hostname,path:e.pathname}},analysisPath:function(t,e){var n,i=t.split("/"),r=e.split("/");if(i.length<r.length)return!1;n=r.length;for(var o=0;o<n;o++)if(r[o]&&r[o]!==i[o])return!1;return!0},getApiSet:function(t,e,n){var i,r,o={},s=(e=e||"").split(",");try{(i=CubeList.getCubeById(n,this.where).cube_auth.fetch_include_cookie)&&(r=i.split(","))}catch(t){}for(var a in t)if(t.hasOwnProperty(a)){if(void 0===t[a].host){o[a]={offline:t[a].offline};break}var c=this.analysisHost(t[a].host),u="",l=!1;if(e)for(var f=0;f<s.length;f++){/^https:\/\//i.test(s[f])||(s[f]="https://"+s[f]);var d=this.analysisHost(s[f]);c.host===d.host&&this.analysisPath(c.path,d.path)&&(u=sn(c.hostname)?"secure_domain":"white_list")}else!e&&ee.DEBUG&&(u=sn(c.hostname)?"secure_domain":"white_list");if(i)for(var h=c.hostname,p=(f=0,r.length);f<p;f++)this.analysisHost(r[f]).hostname===h&&(l=!0);u&&(o[a]=cn(cn({},t[a]),{},{api_type:u,cube_id:n,fetch_include_cookie:l}))}return o},_prepareNetwork:function(t,e,n,i){var r,o,s,a,c=this,u=this.getApiSet(t,e,n.id);"{}"!==JSON.stringify(u)?(r=n.uniqId,s=function(){c.contextBuilder.initNetwork(n.uniqId,n.id),i()},"object"==ge(o=u)&&(a={api:o,id:r},me.ask("setApiWhiteList",a,(function(t){"success"===t.res&&s()})))):i()},_prepareExpandState:function(){this.contextBuilder.context.getCubeInfo().disable_expand&&(this.contextBuilder.context.expanded=!1)},_prepareOnShowEvent:function(t){var e=this;this.eventHandlers.onShow=function(){var n;for(var i in t.cube._children)(n=t.cube._children[i])instanceof Ot&&n.onShow();t.cube.$mute(!1),e.contextBuilder.network&&(clearTimeout(e.networkTimer),e.contextBuilder.network.enable()),Zt.restart(t.id);try{e.onShowBind()}catch(n){M.events.fire(t.id+":error",n)}}},_prepareonCompleteShowEvent:function(t){var e=this;this.eventHandlers.onCompleteShow=function(){try{e.onCompleteShowBind()}catch(e){M.events.fire(t.id+":error",e)}}},_prepareOnHideEvent:function(t){var e=this;this.eventHandlers.onHide=function(){var n;for(var i in t.cube._children)(n=t.cube._children[i])instanceof Ot&&n.onHide();t.cube.$mute(!0),e.contextBuilder.network&&(e.networkTimer=setTimeout((function(){e.contextBuilder.network.disable()}),5e3));try{e.onHideBind()}catch(n){M.events.fire(t.id+":error",n)}Zt.stop(t.id)}},_prepareOnExpandEvent:function(t){var e=this;this.eventHandlers.onExpand=function(){e.contextBuilder.context.expanded=!0;try{e.onExpandBind()}catch(e){M.events.fire(t.id+":error",e)}}},_prepareOnCollapseEvent:function(t){var e=this;this.eventHandlers.onCollapse=function(){e.contextBuilder.context.expanded=!1;try{e.onCollapseBind()}catch(e){M.events.fire(t.id+":error",e)}}},_prepareOnUnloadEvent:function(t){var e=this;this.eventHandlers.onUnload=function(){try{e.onUnloadBind()}catch(e){M.events.fire(t.id+":error",e)}t.cube.destroy(),e.contextBuilder.context.clearStorage(),_e("clearStorage",t.privateId),Zt.clear(t.id)}},_addEvents:function(t){this._prepareOnShowEvent(t),this._prepareonCompleteShowEvent(t),this._prepareOnHideEvent(t),this._prepareOnExpandEvent(t),this._prepareOnCollapseEvent(t),this._prepareOnUnloadEvent(t)}});var ln=un;function fn(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function dn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fn(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function hn(t,e,n){this.contextBuilder=e,this.cubeId=n,this.eventHandlers={},this.init(t,e.context),this.initEvents()}hn.prototype=dn(dn({},hn.prototype),{},{init:function(t,e){for(var n=this,i=["onFollow","unFollow","onTop","unTop"],r=0;r<i.length;r++)!function(){var o=i[r];n[o+"Bind"]=function(){t[o]&&t[o].apply(e,arguments)}}()},initEvents:function(){this._prepareOnFollowEvent(),this._prepareUnFollowEvent(),this._prepareOnTopEvent(),this._prepareUnTopEvent()},_prepareOnFollowEvent:function(){var t=this;this.eventHandlers.onFollow=function(){try{t.onFollowBind()}catch(e){M.events.fire(t.cubeId+":error",e)}}},_prepareUnFollowEvent:function(){var t=this;this.eventHandlers.unFollow=function(){try{t.unFollowBind()}catch(e){M.events.fire(t.cubeId+":error",e)}}},_prepareOnTopEvent:function(){var t=this;this.eventHandlers.onTop=function(){try{t.onTopBind()}catch(e){M.events.fire(t.cubeId+":error",e)}}},_prepareUnTopEvent:function(){var t=this;this.eventHandlers.unTop=function(){try{t.unTopBind()}catch(e){M.events.fire(t.cubeId+":error",e)}}}});var pn=hn;function vn(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function mn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vn(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var gn=jt.getCubeById,yn=jt.getCubeEl,bn=jt.sourceCodes,_n={};function wn(t,e,n,i){try{n.css&&!_n[e]&&(M.load.css(n.css,"cube-css-"+e),_n[e]=!0),function(t,e,n,i,r,o){var s=5<arguments.length&&void 0!==o?o:null,a=new rn(i,s),c=new ln(i,a,s),u=new pn(i,a,t),l=a.context,f=gn(t,s),d=yn(t,s);for(var h in f.eventHandlers=c.eventHandlers,u.eventHandlers)f.eventHandlers[h]=u.eventHandlers[h];var p=new wt(mn(mn({template:n,config:function(){a.initCubeInfo(t),a.initCubeOpen(t),a.initExpanded(t),a.initComponents(this,t,i.components),a.initClklog(t),a.initCubeAd(t),a.initTimers(t),a.initSystemInfo(t),c.onLoadBind(),rn.remove(l,"createComponent")}},l),{},{cube:f}));d&&d.$emit("cube:beforeInject",t);var v=document.querySelector("#cube-c"+e);p.$inject(v),d&&d.$emit("cube:afterInject",t),c.afterReady=function(){d?d.$emit("cube:onReady",t):M.events.fire("cube:onReady",{id:t})},c.prepareOnReady({id:t,privateId:"__"+t,uniqId:ae(6),cube:p},r,f.api_list)}(t,e,n.tpl,n.js,n.api,i)}catch(e){xn(t,e,i)}}function xn(t,e,n){switch(e.errno){case 1504:break;case 1505:gn(t,n).eventHandlers.onError({type:"system error",msg:""}),xn.proxyTimeout||(xn.proxyTimeout=!0);break;default:gn(t,n).eventHandlers.onError({type:"js error",msg:e.message}),ee.DEBUG&&console.error("["+t+"]",e)}}var On=n(11),En=n.n(On),An={show:"_onShow",completeshow:"_onCompleteShow",hide:"_onHide",collapse:"_onCollapse",expand:"_onExpand",unload:"_onUnload",follow:"_onFollow",unfollow:"_unFollow",top:"_onTop",untop:"_unTop"};function Tn(t){t.markshow||(Ue.cubeDot("show",[t]),t.markshow=!0)}function jn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function kn(t){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sn(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function Cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sn(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Dn=!1,Pn=wt.extend({template:'\n  <div ref="cool" class="cube-bd {{_single.expanded ? \'cube-expand\' : \'\'}}"\n    c-style=\'{background: (!_single.init && _single.splash) ? "url(" + _single.splash + ") top 8px center no-repeat" : ""}\' on-click={{this.clickLog($event, _single)}}>\n    <div class="cube-card cube-card-{{_single.pkg_id}}" id="cube-c{{_single.pkg_id}}"></div>\n    {{#if (showOffline && !_single.online)}}\n      <div class="cube-unexpected">\n        <div class="unexpected-container">\n          <p class="unexpected-text">很抱歉，该cube已下线无法继续为您服务</p>\n          <button class="follow-guide-know" on-click={{this._offlineFindMore()}}>发现更多精彩</button>\n          <p class="unfollow-text" on-click={{this._offlineCancelFollow()}}>取消关注</p>\n        </div>\n      </div>\n    {{/if}}\n    {{#if (showMiniApp && show360se_tips)}}\n      <div class="cube-unexpected">\n        <div class="unexpected-container">\n          <p class="unexpected-text">很抱歉，该cube只能在<a href="https://browser.360.cn/" class="se">360安全浏览器</a>下使用</p>\n          <button class="follow-guide-know" on-click={{this._mpFindMore()}}>发现更多精彩</button>\n          <p class="unfollow-text" on-click={{this._mpCancelFollow()}}>取消关注</p>\n        </div>\n      </div>\n    {{/if}}\n  </div>\n',config:function(t){this.supr(),M.createEvents(this),this.trigger=this.trigger.bind(this),this.insert=this.insert.bind(this),this.enable=this.enable.bind(this),this.disable=this.disable.bind(this),this.waitingLifecycle=[],Ue.init({logshowUrl:"//s.hao.360.com/wzdh/cs.gif?",logclickUrl:"//s.hao.360.com/wzdh/cc.gif?",logrequestUrl:"//s.hao.360.com/wzdh/cr.gif?",logtoUrl:"//s.hao.360.com/wzdh/cubeto.gif?"}),this.data=Cn(Cn({},t),{},{show360se_tips:!1}),this.id=this.data._single.id,this.disabled=!1,this.loaded=!1},init:function(){this.supr(),this._bindEvt(),this._loadCubeData(),this.setData({show360se_tips:this._show360seTips()})},_loadCubeData:function(){var t=this.data._single,e=this._getCubeExpand(),n={status:"hide",log_id:"",queue_type:this.data.where,expanded:e,showcompleted:!1,markshow:!1},i=(t=Cn(Cn({},t),n)).expanded?"368_255_75":"368_155_75";t.splash&&(t.splash=q(t.splash,{whq:i,webp:!0})),this._formatCubeMods(t),this.setData({_single:t})},_checkEventHandlers:function(t){var e=this.data._single;return e&&e.eventHandlers&&e.eventHandlers[t]},_onShow:function(){var t=this.data._single;t.init&&this._checkEventHandlers("onShow")?(t.eventHandlers.onShow(),Tn(t),t.status="show",this.$update(),this.fire("show")):this.waitingLifecycle.push("show")},_onCompleteShow:function(){var t=this.data._single;t.init&&this._checkEventHandlers("onCompleteShow")?(t.eventHandlers.onCompleteShow(),t.showcompleted=!0,this.$update(),this.fire("completeshow")):this.waitingLifecycle.push("completeshow")},_onHide:function(){var t=this.data._single;t.init&&this._checkEventHandlers("onHide")?(t.eventHandlers.onHide(),this.onHide&&this.onHide(),this.$update(),this.fire("hide")):this.waitingLifecycle.push("hide")},_onExpand:function(){var t,e=this.data._single;e.disable_expand||(e.init&&this._checkEventHandlers("onExpand")?((t=e).expanded||t.unloaded||Ue.cubeDot("expand",t),e.expanded=1,e.eventHandlers.onExpand(),this.$update(),this.fire("expand")):this.waitingLifecycle.push("expand"))},_onUnload:function(){var t,e=this.data._single;e.init&&this._checkEventHandlers("onUnload")?(e.eventHandlers.onUnload(),(t=e).unloaded||Ue.cubeDot("dislike",t),e.unloaded=1,this.fire("unload"),this._destroy()):this.waitingLifecycle.push("unload")},_onCollapse:function(){var t,e=this.data._single;e.disable_expand||(e.init&&this._checkEventHandlers("onCollapse")?((t=e).expanded&&!t.unloaded&&Ue.cubeDot("collapse",t),e.expanded=0,e.eventHandlers.onCollapse(),this.$update(),this.fire("collapse")):this.waitingLifecycle.push("collapse"))},_onFollow:function(){var t=this.data._single;t.init&&this._checkEventHandlers("onFollow")?(t.follow=1,t.eventHandlers.onFollow(),this.$update(),this.fire("follow")):this.waitingLifecycle.push("follow")},_unFollow:function(){var t=this.data._single;t.init&&this._checkEventHandlers("unFollow")?(t.follow=0,t.eventHandlers.unFollow(),this.$update(),this.fire("unfollow")):this.waitingLifecycle.push("unfollow")},_onTop:function(){var t=this.data._single;t.init&&this._checkEventHandlers("onTop")?(t.top=1,t.eventHandlers.onTop(),this.$update(),this.fire("top")):this.waitingLifecycle.push("top")},_unTop:function(){var t=this.data._single;t.init&&this._checkEventHandlers("unTop")?(t.top=0,t.eventHandlers.unTop(),this.$update(),this.fire("untop")):this.waitingLifecycle.push("untop")},_getCubeExpand:function(){var t=this.data._single;return!t.disable_expand&&t.expanded?1:0},_formatCubeMods:function(t){var e,n,i,r,o,s,a,c,u,l,f,d,h,p,v,m=jt.cubeMods;null!==t&&"object"===kn(t)&&(v={aid:void 0===(e=t.aid)?"":e,disable_expand:void 0===(n=t.disable_expand)?0:n,ext:void 0===(i=t.ext)?"":i,id:o=void 0===(r=t.id)?"":r,idn:void 0===(s=t.idn)?"":s,name:void 0===(a=t.name)?"":a,pkg_id:u=void 0===(c=t.pkg_id)?"":c,splash:void 0===(l=t.splash)?"":l,v:void 0===(f=t.v)?"":f,content_id:void 0===(d=t.content_id)?"":d,ticket:void 0===(h=t.ticket)?"":h,tmprtp:void 0===(p=t.tmprtp)?"":p},m[o]=m[o]||v,Tt[this.data.where][u]=o)},_loadCube:function(){var t,e,n,i,r,o,s,a,c,u,l,f,d,h,p,v,m=this,g=this.data,y=g.show360se_tips,b=g._single.online;this.disabled||this.loaded||y||!b?this.disabled||this.loaded||this.$emit("cube:afterInject"):(t=this.data,e=t._single.id,n=t.where,this.isInsertCode?(i=this.data._single.pkg_id,r=this.tpl,o=this.js,s=this.css,a=this.api,wn(e,i,{tpl:r,js:En()(o),css:s,api:a},n)):(u=void 0===(c=this.data._single.res)?[]:c,jt.sourceCodes[e]?(f=(l=jt.sourceCodes[e]).pkgId,d=l.tpl,h=l.api,p=l.js,wn(e,f,{tpl:d,js:En()(p),api:h},n)):Array.isArray(u)&&0<u.length&&(v="https://s1.ssl.qhres2.com/ssl/".concat(u.join(","),".js"),M.load({path:v,force:!0,error:function(){m._loadError()}},(function(){var t,i,r,o,s;jt.sourceCodes[e]&&!m.disabled&&(i=(t=jt.sourceCodes[e]).pkgId,r=t.tpl,o=t.api,s=t.js,wn(e,i,{tpl:r,js:En()(s),api:o},n))})))))},_loadError:function(){this.fire("loadFail")},_destroy:function(){var t=this.data._single;this.destroy(),Tt[this.data.where][t.pkg_id]&&delete Tt[this.data.where][t.pkg_id];for(var e=null,n=0;n<jt[this.data.where].length;n++)if(jt[this.data.where][n].id===t.id){e=n;break}"number"==typeof e&&jt[this.data.where].splice(e,1)},getCubeById:function(){return this.data._single},_bindEvt:function(){this.$on({"cube:beforeInject":function(){this.data._single.init=!0,this.$update()},"cube:onReady":function(){var t=this;this.waitingLifecycle.length&&this.waitingLifecycle.forEach((function(e){t.trigger(e)})),this.$update()},"cube:afterInject":function(){this.loaded=!0,this.fire("inserted")}})},trigger:function(t){this[An[t]]&&this[An[t]]()},insert:function(t,e){this.$inject(t,e),this._loadCube()},clickLog:function(t,e){Tn(e),function(t){var e=t.e,n=t.data,i=e.target,r=e.event.defaultPrevented,o=n.clickaction?n.clickaction:"innerclk";n.clickaction=null;var s=0,a=i.innerHTML||"";if(/^(A|IMG)$/.test(i.tagName)){if("IMG"===i.tagName)for(a=i.getAttribute("alt");i=i.parentNode;){if(3<s++)return Ue.cubeDot(o,n,a);if("A"===i.tagName){a=a||i.getAttribute("title")||i.getAttribute("href");break}}else a=i.getAttribute("title")||i.innerHTML||i.getAttribute("href");/^(http:\/\/|https:\/\/)/.test(i.href)&&!r?Ue.cubeDot("realclk",n,a):Ue.cubeDot(o,n,a)}else for(s=0;i=i.parentNode;){if(3<s++)return Ue.cubeDot(o,n,a);if("A"===i.tagName){a=i.getAttribute("title")||i.getAttribute("href"),/^(http:\/\/|https:\/\/)/.test(i.href)&&!r?Ue.cubeDot("realclk",n,a):Ue.cubeDot(o,n,a);break}}}({e:t,data:e})},_updateData:function(t,e){this.data._single[t]=e},_clickMore:function(t){-1===t.target.className.indexOf("feedback")&&t.preventDefault()},_show360seTips:function(){var t=this.data._single.miniapp_only;return!S.mp360Support&&!!t},_offlineCancelFollow:function(){this._destroy(),this.fire("offlineCancelFollow")},_mpCancelFollow:function(){this._destroy(),this.fire("mpCancelFollow")},_offlineFindMore:function(){this.fire("offlineFindMore")},_mpFindMore:function(){this.fire("mpFindMore")},enable:function(){this.disabled=!1,this._loadCube()},disable:function(){this.disabled=!0}}),In=function(t){var e=t.where,n=void 0===e?"":e,i=!1,r=S.where;n=n||r;Dn||(function(){var t=!1,e={},n="cube.3600.com",i="?appid=".concat(S.appid,"&t=").concat(Math.floor((new Date).getTime()/864e5));ee.DEBUG&&(n="cubedev.3600.com",i="?appid=".concat(S.appid,"&t=").concat(Math.floor((new Date).getTime()/6e5)));var r="https://"+n;window.addEventListener("message",(function e(n){n.origin===r&&("proxyOk"==n.data&&(t=!0,ve.fire("proxyOk")),window.removeEventListener("message",e))}));var o=document.createElement("iframe");o.style.display="none",o.src=r+"/cubeframe.html"+i,document.body.appendChild(o);var s=(ve={el:o,origin:r,isOk:function(){return t},on:function(t,n){e[t]=e[t]||[],e[t].push(n)},fire:function(t,n){if(e[t])for(var i=0;i<e[t].length;i++)e[t][i](n)}}).el.contentWindow;(me=new pe(s,ve.origin)).setEncodeDecoder(2)}(),Dn=!0);var o=t.data,s=void 0===o?{}:o,a=t.expanded,c=void 0!==a&&a,u=t.js,l=void 0===u?{}:u,f=t.tpl,d=void 0===f?"":f,h=t.css,p=void 0===h?"":h,v=t.api,m=void 0===v?{}:v,g=t.showMiniApp,y=void 0!==g&&g,b=t.showOffline,_=void 0!==b&&b,w=s.pos,x=void 0===w?0:w;Tt[n]||(Tt[n]={}),0<Object.keys(l).length&&d&&(i=!0);var O=new Pn({data:{_single:Cn(Cn({online:1},s),{},{expanded:c,pos:x,where:n}),where:n,showMiniApp:y,showOffline:_},isInsertCode:i,js:l,tpl:d,css:p,api:m});jt[n]=jt[n]?[].concat(function(t){return function(t){if(Array.isArray(t))return jn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return jn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jn(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(jt[n]),[O]):[O],Object.defineProperties(s,{pos:{configurable:!0,get:function(){return x},set:function(t){x=t,O&&O._updateData("pos",t)}}});var E=O.trigger,A=O.insert,T=O.on,j=O.enable,k=O.disable;return{id:s.id,data:s,trigger:E,insert:A,element:O.$refs.cool,on:T,enable:j,disable:k,destroy:function(){O._destroy()}}};function Nn(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function $n(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nn(Object(n),!0).forEach((function(e){Mn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rn=wt.extend({template:'\n  <div ref="coolbox" class="cube-mod {{_box.expanded ? \'cube-expand\' : \'\'}}"\n    id="cube-mod-{{where}}-{{_box.id}}"\n    c-animation="on: leave; fade: out;">\n    <div class="cube-hd">\n      <div class="cube-meta">\n        {{#if _box.icon}}\n          {{#if _box.brand_link}}\n            <a href={{_box.brand_link}} title={{_box.name}} on-click={{this.addClickTimes()}}>\n              <img class="cube-logo" onerror="this.onerror=null;this.src=\'https://hao2.qhimg.com/t014f8bb0cab85ef982.png\';" src={{_box.icon|clipImage: \'64_64_100\'}} width="32" height="32">\n            </a>\n          {{#else}}\n            <img class="cube-logo" onerror="this.onerror=null;this.src=\'https://hao2.qhimg.com/t014f8bb0cab85ef982.png\';" src={{_box.icon|clipImage: \'64_64_100\'}} width="32" height="32">\n          {{/if}}\n        {{#else}}\n          {{#if _box.brand_link}}\n            <a href={{_box.brand_link}} title={{_box.name}} class="text-logo-container" on-click={{this.addClickTimes()}}>\n              <div class="text-logo">\n                <span c-style=\'{"line-height": _box.name.length === 2 ? "26px" : "14px"}\'>{{_box.name.slice(0,2).toUpperCase()}}</span>\n                <span>{{_box.name.slice(2,4).toUpperCase()}}</span>\n              </div>\n            </a>\n          {{#else}}\n            <div class="text-logo-container">\n              <div class="text-logo">\n                <span c-style=\'{"line-height": _box.name.length === 2 ? "26px" : "14px"}\'>{{_box.name.slice(0,2).toUpperCase()}}</span>\n                <span>{{_box.name.slice(2,4).toUpperCase()}}</span>\n              </div>\n            </div>\n          {{/if}}\n        {{/if}}\n        <div class="cube-meta-text">\n          {{#if _box.brand_link}}\n            <a class="cube-name" href={{_box.brand_link}} title={{_box.name}} on-click={{this.addClickTimes()}}>\n              {{_box.name}}\n            </a>\n          {{#else}}\n            {{_box.name}}\n          {{/if}}\n          {{#if (unreadPoint && _box.unread)}}\n            <div class="cube-unread-hotdot"></div>\n          {{/if}}\n          {{#if showViewedTips && _box.recently_click && !this.showFollow()}}\n            <span class="cube-viewed">最近看过</span>\n          {{/if}}\n        </div>\n        <div class="cube-opera">\n          {{#if buttons.indexOf(\'top\') > -1 && !_box.top}}\n            <a href="javascript:void(0);"\n              class="cube-btn cube-icon cube-totop"\n              delegate-click={{this._triggerAction($event, \'top\')}}>置顶</a>\n          {{/if}}\n          {{#if buttons.indexOf(\'untop\') > -1 && _box.top}}\n            <a href="javascript:void(0);"\n              class="cube-btn cube-icon cube-untop"\n              delegate-click={{this._triggerAction($event, \'untop\')}}>取消置顶</a>\n          {{/if}}\n          {{#if buttons.indexOf(\'follow\') > -1}}\n            <a href="javascript:void(0)"\n              c-hide={{_box.follow}}\n              class="cube-follow"\n              delegate-click={{this._triggerAction($event, \'follow\')}}>关注</a>\n            <span class="cube-follow-tips" c-show={{this.showFollow()}}>喜欢我就关注哦~</span>\n            <span c-hide={{!_box.follow}} class="cube-followed">\n              <span class="text">已关注</span>\n            </span>\n          {{/if}}\n          {{#if !_box.disable_expand && buttons.indexOf(\'expand\') > -1}}\n            <a href="javascript:void(0);"\n              class="cube-btn cube-icon cube-toexpand"\n              c-hide={{_box.expanded}}\n              delegate-click={{this._triggerAction($event, \'expand\')}}>展开</a>\n            <a href="javascript:void(0);"\n              class="cube-btn cube-icon cube-tocollapse"\n              c-hide={{!_box.expanded}}\n              delegate-click={{this._triggerAction($event, \'collapse\')}}>收起</a>\n          {{/if}}\n          {{#if buttons.indexOf(\'feedback\') > -1 || buttons.indexOf(\'dislike\') > -1 || buttons.indexOf(\'unfollow\') > -1}}\n            <a href="javascript:void(0);"\n              class="cube-more"\n              delegate-click={{this._clickMore($event)}}>\n              <div class="more-container">\n                {{#if buttons.indexOf(\'feedback\') > -1}}\n                  <span class="more-link feedback" on-click={{this._onFeedback()}}>投诉</span>\n                {{/if}}\n                {{#if buttons.indexOf(\'dislike\') > -1}}\n                  <a class="more-link" href="javascript:void(0);" delegate-click={{this._triggerAction($event, \'unload\')}}>不喜欢</a>\n                {{/if}}\n                {{#if buttons.indexOf(\'unfollow\') > -1 && _box.follow}}\n                  <a class="more-link" href="javascript:void(0);" delegate-click={{this._triggerAction($event, \'unfollow\')}}>取消关注</a>\n                {{/if}}\n              </div>\n            </a>\n          {{/if}}\n        </div>\n      </div>\n    </div>\n  </div>\n',config:function(){this.supr(),M.createEvents(this),this.trigger=this.trigger.bind(this),this.insert=this.insert.bind(this),this.bindCool=this.bindCool.bind(this),this.enable=this.enable.bind(this),this.disable=this.disable.bind(this)},insert:function(t,e,n){var i=2<arguments.length&&void 0!==n?n:"";this.$inject(t,e),this._insertCool(i)},trigger:function(t){this._triggerAction(null,t)},bindCool:function(t){this.cool=t;var e=this.cool.data;this.setData({_box:e}),this._insertCool()},_insertCool:function(t){var e,n=0<arguments.length&&void 0!==t?t:"",i=this.data,r=i._box.id,o=i.where;this.cool&&(e="#cube-mod-".concat(o,"-").concat(r," .cube-hd"),this.cool.insert(e,"after",n))},_clickMore:function(t){t.preventDefault()},_triggerAction:function(t,e){t&&t.preventDefault();var n,i,r=this.data._box;switch(e){case"follow":(i=r).follow||Ue.cubeDot("follow",i),r.follow=1;break;case"unfollow":(n=r).follow&&Ue.cubeDot("unfollow",n),r.follow=0;break;case"top":r.top=1;break;case"untop":r.top=0;break;case"expand":r.disable_expand||(r.expanded=1),this.addClickTimes();break;case"collapse":r.disable_expand||(r.expanded=0),this.addClickTimes()}this.$update(),this.cool&&this.cool.trigger(e),this.fire(e),"unload"===e&&this._destroy()},_updateData:function(t,e){this.data._box[t]=e,this.cool&&(this.cool.data[t]=e),this.$update()},_updateAttr:function(t,e){this.setData(Mn({},t,e))},_destroy:function(){this.cool&&this.cool.destroy(),this.destroy()},addClickTimes:function(){var t=this.data,e=t._box,n=t._box.clicktimes;e.clicktimes=n+1,this.setData({_box:e}),this.fire("clicktimes",{data:e})},enable:function(){this.cool&&this.cool.enable()},disable:function(){this.cool&&this.cool.disable()},_onFeedback:function(){Object.prototype.hasOwnProperty.call(this.events,"feedback")?this.fire("feedback"):window.open("https://feedback.hao.360.cn/")},showFollow:function(){var t=this.data,e=t._box;return(t.showFollowTips||0<e.clicktimes)&&!e.follow}});Rn.animation("fade",(function(t){var e=t.param,n=t.element,i="in"===e,r=i?1.05:.9;return function(t){var e=i?.01:1,o=setInterval((function(){e*=r,i&&1-e<.1?(e=1,clearInterval(o),t()):!i&&e<.1&&(e=0,clearInterval(o),t()),n.style.opacity=e}),1e3/60)}}));var Fn=function(t){var e=t.where,n=void 0===e?"":e,i=S.where,r=(n=n||i,t.data),o=t.expanded,s=void 0!==o&&o,a=t.follow,c=void 0!==a&&a,u=t.top,l=void 0!==u&&u,f=t.buttons,d=void 0===f?["follow","unfollow","top","untop","expand","dislike","feedback","logo"]:f,h=t.cool,p=void 0===h||h,v=t.js,m=void 0===v?{}:v,g=t.css,y=void 0===g?"":g,b=t.tpl,_=void 0===b?"":b,w=t.showMiniApp,x=void 0!==w&&w,O=t.showOffline,E=void 0!==O&&O,A=t.unreadPoint,T=void 0!==A&&A,j=t.showFollowTips,k=void 0!==j&&j,C=t.showViewedTips,D=void 0!==C&&C,P=r.pos,I=void 0===P?0:P,N=(r.unread,null);r.disable_expand&&(s=!1),p?N=new In({data:$n({},r),expanded:s,js:m,css:y,tpl:_,where:n,showMiniApp:x,showOffline:E}):Tt[n]||(Tt[n]={});var $=new Rn({data:{_box:$n($n({clicktimes:0},r),{},{follow:c,top:l,expanded:s,pos:I}),buttons:d,where:n,unreadPoint:T,showFollowTips:k,showViewedTips:D},cool:N});N.on("inserted",(function(){$.fire("inserted")})),N.on("offlineCancelFollow",(function(){$.fire("offlineCancelFollow"),$._destroy()})),N.on("mpCancelFollow",(function(){$.fire("mpCancelFollow"),$._destroy()})),N.on("offlineFindMore",(function(){$.fire("offlineFindMore")})),N.on("mpFindMore",(function(){$.fire("mpFindMore")})),N.on("loadFail",(function(){$.fire("loadFail")})),N.on("click",(function(t){t&&t.params&&t.params.func&&("innerclk"===t.params.func||"realclk"===t.params.func||"interactiveclk"===t.params.func||"adclk"===t.params.func)&&$.addClickTimes(),$.fire("click",t)})),r=$n($n({},r),{},{follow:c?1:0,top:l?1:0,expanded:s?1:0}),Object.defineProperties(r,{pos:{configurable:!0,get:function(){return $.data._box.pos},set:function(t){$&&$._updateData("pos",t)}},top:{configurable:!0,get:function(){return $.data._box.top?1:0},set:function(t){$&&$._updateData("top",t)}},follow:{configurable:!0,get:function(){return $.data._box.follow?1:0},set:function(t){$&&$._updateData("follow",t)}},unread:{configurable:!0,get:function(){return $.data._box.unread?1:0},set:function(t){$&&$._updateData("unread",t)}},clicktimes:{configurable:!0,get:function(){var t=$.data._box.clicktimes;return void 0===t?0:t},set:function(t){$&&$._updateData("clicktimes",t)}}});var M=$.trigger,R=$.insert,F=$.bindCool,B=$.on,L=$.enable,U=$.disable,H={id:r.id,data:r,get expanded(){return!!$.data._box.expanded},trigger:M,insert:R,bindCool:F,element:$.$refs.coolbox,on:B,enable:L,disable:U,destroy:function(){$._destroy()}};return Object.defineProperties(H,{buttons:{configurable:!0,get:function(){return d},set:function(t){d=t,$&&$._updateAttr("buttons",t)}}}),H};function Bn(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)),i}function Ln(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Un=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),M.createEvents(this);var n=e.id,i=void 0===n?"":n,r=e.container,o=void 0===r?"":r,s=e.timeout;Array.isArray(i)?this.ids=i.join(","):this.ids=i,this.container=o,this.timeout=s||3e4,this.data=[],this.props=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bn(Object(n),!0).forEach((function(e){var i,r,o;i=t,o=n[r=e],r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e),this.getData()}var e,n;return e=t,(n=[{key:"getData",value:function(){var t,e,n=this,i=S.appid,r=S.mp360Support;i&&(t=r?1:0,e="https://i.dhrest.com/gw/".concat(i,"/default/specify/v1?cube_ids=").concat(this.ids,"&miniapp_only=").concat(t),M.jsonp(e,(function(t){0!==t.errno||j()||T(t.data.citycode),n.fire("data",t)}),{timeout:this.timeout}))}}])&&Ln(e.prototype,n),t}(),Hn=function(t){return{on:new Un(t).on}};function Vn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Jn={init:"hide",transitions:[{name:"onShow",from:"hide",to:"show"},{name:"onHide",from:"show",to:"hide"}]},Gn={init:"notCompleteShow",transitions:[{name:"onCompleteShow",from:"notCompleteShow",to:"completeShow"}]},qn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.enabled=!1,this.init()}var e,n;return e=t,(n=[{key:"init",value:function(){var t=this.options,e=t.container,n=t.cubes,i=[],r=[];this.checker=function(t,e){var n=null,i=arguments,r=this;return function(){n&&clearTimeout(n),n=setTimeout((function(){t.apply(r,i)}),e)}}((function(){var t=document.querySelector(e);if(t){var o=t.getBoundingClientRect(),s=window.innerHeight,a=window.innerWidth,c=!0;(o.top>=s||o.bottom<=0||o.left>=a||o.right<=0)&&(c=!1);for(var u=0,l=0,f=n.length;l<f;l++){var d=n[l],h=d.expanded?310:210,p=i[l]=i[l]||new le(Jn),v=r[l]=r[l]||new le(Gn);c&&u>=-o.top&&u+h<=-o.top+s?v.setState("completeShow"):v.setState("notCompleteShow"),c&&u+h>-o.top&&u<-o.top+s?p.setState("show"):p.setState("hide");var m=v.getTransition(),g=p.getTransition();"onCompleteShow"===m&&d.trigger("completeshow"),"onShow"===g?d.trigger("show"):"onHide"===g&&d.trigger("hide"),u+=10+h}}}),1e3)}},{key:"check",value:function(){this.checker(),this.enable()}},{key:"disable",value:function(){this.enabled=!1,window.removeEventListener("scroll",this.checker)}},{key:"enable",value:function(){this.enabled||(this.enabled=!0,window.addEventListener("scroll",this.checker,!1))}}])&&Vn(e.prototype,n),t}();function Yn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var zn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.size=e.size||6,this.container=e.container,this.name=e.name||"default",this.buttons=e.buttons||["expand","dislike","feedback","logo"],this.page=new ue,this.position=new ue,this.timeout=e.timeout||3e4,this.cache=new O("cubesdk"),this.cacheName="".concat(S.appid,"_").concat(this.name,"_expandstate"),this.backup=e.backup||null,this.cubeidSet={},this.insertingCount=0,this.disabled=!1;var n=this.cubes=[];M.createEvents(this),this.showTrigger=new qn({container:e.container,cubes:n}),this.loading=!1,this.showMiniApp=e.showMiniApp||!1,this.showOffline=e.showOffline||!1,this.unreadPoint=e.unreadPoint||!1,this.showViewedTips=e.showViewedTips||!1,this.unfollowReplaceDislike=void 0===e.unfollowReplaceDislike||!!e.unfollowReplaceDislike}var e,n;return e=t,(n=[{key:"load",value:function(t){var e=this;if(this.loading||this.disabled)return!1;var n=S.appid,i=S.mid,r=S.huid,o=S.guid,s=S.hsid,a=S.mp360Support,c=this.size,u=this.name,l=this.page,f=this.timeout,d=a?1:0;c=encodeURIComponent(c),i=encodeURIComponent(i),o=encodeURIComponent(o),r=encodeURIComponent(r),s=encodeURIComponent(s);return void 0===t&&(t="https://i.dhrest.com/gw/".concat(n,"/").concat(u,"/list/v1?p=").concat(l.add().get(),"&size=").concat(c,"&m=").concat(i,"&g=").concat(o,"&h=").concat(r,"&hsid=").concat(s,"&miniapp_only=").concat(d)),this.loading=!0,M.jsonp(t,(function(n,i){if(e.loading=!1,null===n&&"timeout"===i.reason)return l.set(l.get()-1),e.disabled?void(e.responseCache=e.backup):(e.backup&&(e.render(e.backup),e.showTrigger.check()),e.fire("timeout",{backup:e.backup,url:t}),void e.fire("end"));if(e.fire("data",n),n&&0===n.errno&&n.data&&Array.isArray(n.data.list)){if(j()||T(n.data.citycode),e.disabled)return void(e.responseCache=n);e.render(n),e.showTrigger.check()}else 2===n.errno&&e.fire("end")}),{timeout:f}),!0}},{key:"render",value:function(t){var e=this,n=this.position,i=this.cubes,r=this.container,o=this.cubeidSet;t.data.list.forEach((function(t){var s;e.has(t.id)||(o[t.id]=!0,t.pos=n.get(),s=e.createCoolbox(t),++e.insertingCount,s.on("inserted",(function(){--e.insertingCount,e.fire("inserted",s)})),s.on("loadFail",(function(){--e.insertingCount,e.fire("loadFail",s)})),s.on("offlineFindMore",(function(){e.fire("offlineFindMore",s)})),s.on("mpFindMore",(function(){e.fire("mpFindMore",s)})),s.on("click",(function(t){e.fire("click",{cube:s,params:t.params})})),s.on("clicktimes",(function(){e.fire("clicktimes",s)})),i.push(s),s.insert(r),n.add())}))}},{key:"has",value:function(t){return t in this.cubeidSet}},{key:"enable",value:function(){if(this.disabled){this.disabled=!1;var t=this.$container,e=this.replaceNode,n=this.responseCache;return e.parentNode.replaceChild(t,e),this.replaceNode=null,this.showTrigger.enable(),n&&(this.render(n),this.responseCache=void 0,this.showTrigger.check()),!0}return!1}},{key:"disable",value:function(){if(this.disabled||0!==this.insertingCount)return!1;this.disabled=!0;var t=this.$container=document.querySelector(this.container),e=this.replaceNode=document.createElement("div");return e.setAttribute("data-selector",this.container),t.parentNode.replaceChild(e,t),this.showTrigger.disable(),!0}},{key:"toggleExpand",value:function(t){var e=this.cacheName,n=this.cache.get(e)||{};t.expanded?n[t.id]=1:delete n[t.id],this.cache.set(e,n)}},{key:"getExpandState",value:function(t){var e=this.cacheName;return!!(this.cache.get(e)||{})[t]}},{key:"insertCube",value:function(t,e){var n=this.cubes,i=this.cubeidSet,r=this.container;if(e<0||e>n.length||this.has(t.id))return!1;i[t.id]=!0;var o=this.createCoolbox(t);return isNaN(e)||e===n.length?o.insert(r):o.insert(n[e].element,"before"),n.splice(e,0,o),this.updatePosition(e,n.length-1),this.position.add(),!0}},{key:"moveCube",value:function(t,e){var n,i,r,o=this.cubes;t<0||t>=o.length||e<0||e>=o.length||t===e||(i=(n=o[t]).element.parentNode,e<t?(r=o[e].element,o.splice(t,1),o.splice(e,0,n),this.updatePosition(0,t)):(r=o[e+1]?o[e+1].element:null,o.splice(e+1,0,n),o.splice(t,1),this.updatePosition(t,e)),i.insertBefore(n.element,r))}},{key:"removeCube",value:function(t){var e=this.cubes,n=this.position;if(t<0||t>e.length||isNaN(t))return!1;var i=e[t].id;return delete this.cubeidSet[i],e[t].destroy(),e.splice(t,1),this.updatePosition(t,e.length-1),n.set(n.get()-1),!0}},{key:"createCoolbox",value:function(t){var e=this,n=this.position,i=this.buttons,r=this.name,o=this.cubes,s=new Fn({data:t,buttons:e.unfollowReplaceDislike&&(-1<i.indexOf("dislike")&&(e.delDisbtn=!0),t.follow)?i.filter((function(t){return"dislike"!==t})):i,where:r,expanded:this.getExpandState(t.id),follow:t.follow,top:t.top,showMiniApp:this.showMiniApp,showOffline:this.showOffline,unreadPoint:this.unreadPoint,showViewedTips:this.showViewedTips});return s.on("show",(function(){e.fire("show",s)})),s.on("hide",(function(){e.fire("hide",s)})),s.on("completeshow",(function(){e.fire("completeShow",s)})),s.on("follow",(function(){e.fire("follow",s),e.unfollowReplaceDislike&&-1<s.buttons.indexOf("unfollow")&&(s.buttons=s.buttons.filter((function(t){return"dislike"!==t})))})),s.on("unfollow",(function(){e.fire("unFollow",s),e.delDisbtn&&s.buttons.push("dislike")})),s.on("top",(function(){e.moveCube(s.data.pos,0),s.data.top=1,e.fire("top",s)})),s.on("untop",(function(){var t=e.getTopCount()-1;0<=t&&(e.moveCube(s.data.pos,t),s.data.top=0,e.fire("unTop",s))})),s.on("expand",(function(){e.toggleExpand(s),e.fire("expand",s)})),s.on("collapse",(function(){e.toggleExpand(s),e.showTrigger.check(),e.fire("collapse",s)})),s.on("unload",(function(){var t=s.data.pos;delete e.cubeidSet[s.id],o.splice(t,1),e.updatePosition(t,o.length-1),n.set(n.get()-1),e.showTrigger.check(),e.fire("unload",s)})),s.on("feedback",(function(){Object.prototype.hasOwnProperty.call(e.events,"feedback")?e.fire("feedback",s):window.open("https://feedback.hao.360.cn/")})),s}},{key:"updatePosition",value:function(t,e){for(var n=t;n<=e;n++)this.cubes[n].data.pos=n}},{key:"getTopCount",value:function(){for(var t=0,e=this.cubes,n=0,i=e.length;n<i&&1===e[n].data.top;n++)t++;return t}},{key:"indexOf",value:function(t){var e=this.cubes;if(!this.has(t))return-1;for(var n=0,i=e.length;n<i;n++)if(e[n].id===t)return n}},{key:"reset",value:function(){var t,e=document.createElement("div");e.setAttribute("class",this.container.replace(".","")),this.disabled&&(this.replaceNode.parentNode.replaceChild(e,this.replaceNode),this.replaceNode=null,this.$container=null),!this.disabled&&this.cubes.length&&(t=document.querySelector(this.container)).parentNode.replaceChild(e,t),this.cubes.forEach((function(t){t.destroy()})),this.cubes.length=0,this.page.set(0),this.position.set(0),this.cubeidSet={},this.insertingCount=0,this.disabled=!1,this.showTrigger=new qn({container:this.container,cubes:this.cubes})}}])&&Yn(e.prototype,n),t}(),Qn=function(t){t.name=t.name||"default";var e=ce("coolflow:".concat(t.name),zn,t);return{name:e.name,on:e.on,cubes:e.cubes,load:e.load.bind(e),enable:e.enable.bind(e),disable:e.disable.bind(e),insertCube:e.insertCube.bind(e),removeCube:e.removeCube.bind(e),getTopCount:e.getTopCount.bind(e),indexOf:e.indexOf.bind(e),reset:e.reset.bind(e),isLoading:function(){return e.loading}}};window.addCube=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;try{e.css&&!_n[t]&&(M.load.css(e.css,"cube-css-"+t),_n[t]=!0);var i=function(){if(n&&Tt[n][t])return Tt[n][t];for(var e in Tt)if(Tt[e][t])return Tt[e][t]}();bn[i]||(bn[i]={pkgId:t,tpl:e.tpl,js:e.js,api:e.api})}catch(e){xn(i,e)}M.events.on(i+":error",(function(t){xn(i,t)}))};var Xn=function(t){void 0!==t.debug&&(ee.DEBUG=t.debug),function(t){for(var e in S.webpSupport=J,S)void 0!==t[e]&&(S[e]=t[e])}(t)}}],t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(t){return e[t]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="/",t(t.s=89);function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var e,n}));